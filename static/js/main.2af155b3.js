/*! For license information please see main.2af155b3.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},123:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var s,a,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(o[c]=s[c]);if(t){a=t(s);for(var u=0;u<a.length;u++)r.call(s,a[u])&&(o[a[u]]=s[a[u]])}}return o}},153:(e,t,n)=>{n(123);var r=n(43),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var s=Symbol.for;i=s("react.element"),t.Fragment=s("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.jsx=c,t.jsxs=c},202:(e,t,n)=>{var r=n(123),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,o=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),o=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,s={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!E.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:o,props:s,_owner:w.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,n,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return a=a(l=e),e=""===r?"."+T(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),I(a,t,n,"",function(e){return e})):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+T(o=e[c],c);l+=I(o,t,n,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,n,u=r+T(o,c++),a);else if("object"===o)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(f(321));return e}var D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var s=r({},e.props),a=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!E.hasOwnProperty(u)&&(s[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)s.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];s.children=c}return{$$typeof:i,type:e.type,key:a,ref:o,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},234:(e,t)=>{var n,r,i,s;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(Cl){throw setTimeout(h,0),Cl}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?x.postMessage(null):(m=!1,g=null)}catch(Cl){throw x.postMessage(null),Cl}}else m=!1},n=function(e){g=e,m||(m=!0,x.postMessage(null))},r=function(e,n){v=d(function(){e(t.unstable_now())},n)},i=function(){f(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,a=e[s],o=s+1,l=e[o];if(void 0!==a&&0>S(a,n))void 0!==l&&0>S(l,a)?(e[r]=l,e[o]=n,r=o):(e[r]=a,e[s]=n,r=s);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[o]=n,r=o}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],N=1,C=null,A=3,R=!1,D=!1,F=!1;function O(e){for(var t=k(I);null!==t;){if(null===t.callback)_(I);else{if(!(t.startTime<=e))break;_(I),t.sortIndex=t.expirationTime,E(T,t)}t=k(I)}}function P(e){if(F=!1,O(e),!D)if(null!==k(T))D=!0,n(j);else{var t=k(I);null!==t&&r(P,t.startTime-e)}}function j(e,n){D=!1,F&&(F=!1,i()),R=!0;var s=A;try{for(O(n),C=k(T);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=C.callback;if("function"===typeof a){C.callback=null,A=C.priorityLevel;var o=a(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?C.callback=o:C===k(T)&&_(T),O(n)}else _(T);C=k(T)}if(null!==C)var l=!0;else{var c=k(I);null!==c&&r(P,c.startTime-n),l=!1}return l}finally{C=null,A=s,R=!1}}var L=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||R||(D=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return k(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,s,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:N++,callback:s,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>o?(e.sortIndex=a,E(I,e),null===k(T)&&e===k(I)&&(F?i():F=!0,r(P,a-o))):(e.sortIndex=l,E(T,e),D||R||(D=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(123),s=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var o=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,k=60106,_=60107,S=60108,T=60114,I=60109,N=60110,C=60112,A=60113,R=60120,D=60115,F=60116,O=60121,P=60128,j=60129,L=60130,M=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),k=U("react.portal"),_=U("react.fragment"),S=U("react.strict_mode"),T=U("react.profiler"),I=U("react.provider"),N=U("react.context"),C=U("react.forward_ref"),A=U("react.suspense"),R=U("react.suspense_list"),D=U("react.memo"),F=U("react.lazy"),O=U("react.block"),U("react.scope"),P=U("react.opaque.id"),j=U("react.debug_trace_mode"),L=U("react.offscreen"),M=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(li){var r=li}Reflect.construct(e,[],t)}else{try{t.call()}catch(li){r=li}e.call(t.prototype)}else{try{throw Error()}catch(li){r=li}e()}}catch(li){if(li&&r&&"string"===typeof li.stack){for(var i=li.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=o);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case O:return G(e._render);case F:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Cl){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ve=(ge=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ge(e,t)})}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach(function(e){we.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]})});var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ne=null,Ce=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(a(280));var t=e.stateNode;t&&(t=si(t),Ie(e.stateNode,e.type,t))}}function Re(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function De(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Fe(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var je=Fe,Le=!1,Me=!1;function Ue(){null===Ne&&null===Ce||(Pe(),De())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(h)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ge){ze=!1}function qe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var He=!1,Ke=null,We=!1,Ge=null,Qe={onError:function(e){He=!0,Ke=e}};function Ye(e,t,n,r,i,s,a,o,l){He=!1,Ke=null,qe.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $e(i),e;if(s===r)return $e(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,st=!1,at=[],ot=null,lt=null,ct=null,ut=new Map,ht=new Map,dt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function gt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=pt(t,n,r,i,s),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,function(){s.unstable_runWithPriority(e.priority,function(){rt(n)})})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(st=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&yt(ot)&&(ot=null),null!==lt&&yt(lt)&&(lt=null),null!==ct&&yt(ct)&&(ct=null),ut.forEach(bt),ht.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wt)))}function Et(e){function t(t){return xt(t,e)}if(0<at.length){xt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&xt(ot,e),null!==lt&&xt(lt,e),null!==ct&&xt(ct,e),ut.forEach(t),ht.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},Tt={};function It(e){if(St[e])return St[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Nt=It("animationend"),Ct=It("animationiteration"),At=It("animationstart"),Rt=It("transitionend"),Dt=new Map,Ft=new Map,Ot=["abort","abort",Nt,"animationEnd",Ct,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ft.set(r,t),Dt.set(r,i),c(i,[r])}}(0,s.unstable_now)();var jt=8;function Lt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,s=e.expiredLanes,a=e.suspendedLanes,o=e.pingedLanes;if(0!==s)r=s,i=jt=15;else if(0!==(s=134217727&n)){var l=s&~a;0!==l?(r=Lt(l),i=jt):0!==(o&=s)&&(r=Lt(o),i=jt)}else 0!==(s=n&~a)?(r=Lt(s),i=jt):0!==o&&(r=Lt(o),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Lt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Gt=s.unstable_UserBlockingPriority,Qt=s.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Le||Pe();var i=$t,s=Le;Le=!0;try{Oe(i,e,t,n,r)}finally{(Le=s)||Ue()}}function Jt(e,t,n,r){Qt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<at.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var s=Zt(e,t,n,r);if(null===s)i&&mt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(s,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=gt(ot,e,t,n,r,i),!0;case"dragenter":return lt=gt(lt,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ut.set(s,gt(ut.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ht.set(s,gt(ht.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;mt(e,r)}Pr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var s=Xe(i);if(null===s)i=null;else{var a=s.tag;if(13===a){if(null!==(i=Je(s)))return i;i=null}else if(3===a){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function ln(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,un,hn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(dn),pn=i({},dn,{view:0,detail:0}),mn=ln(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,un=e.screenY-hn.screenY):un=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=ln(gn),yn=ln(i({},gn,{dataTransfer:0})),bn=ln(i({},pn,{relatedTarget:0})),wn=ln(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=ln(xn),kn=ln(i({},dn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Nn(){return In}var Cn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=ln(Cn),Rn=ln(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Fn=ln(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=ln(On),jn=[9,13,27,32],Ln=h&&"CompositionEvent"in window,Mn=null;h&&"documentMode"in document&&(Mn=document.documentMode);var Un=h&&"TextEvent"in window&&!Mn,Vn=h&&(!Ln||Mn&&8<Mn&&11>=Mn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Lr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Cr(e,0)}function $n(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",sr),Xn=Yn=null)}function sr(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Qn(t,Xn,e,Te(e)),e=Jn,Le)e(t);else{Le=!0;try{Fe(e,t)}finally{Le=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",sr)):"focusout"===e&&ir()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function lr(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function dr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,xr=null,Er=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==$(r)||("selectionStart"in(r=br)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&dr(xr,r)||(xr=r,0<(r=Lr(wr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Ot,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<_r.length;Sr++)Ft.set(_r[Sr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(a(198));var u=Ke;He=!1,Ke=null,We||(We=!0,Ge=u)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Nr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Nr(i,o,c),s=l}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Ar(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Rr]||(e[Rr]=!0,o.forEach(function(t){Ir.has(t)||Fr(t,!1,e,null),Fr(t,!0,e,null)}))}function Fr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,s=r}var a=ai(s),o=e+"__"+(t?"capture":"bubble");a.has(o)||(t&&(i|=4),Or(s,e,i,t),a.add(o))}function Or(e,t,n,r){var i=Ft.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=ni(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{return je(e,t,n)}finally{Me=!1,Ue()}}(function(){var r=s,i=Te(n),a=[];e:{var o=Dt.get(e);if(void 0!==o){var l=fn,c=e;switch(e){case"keypress":if(0===sn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=bn;break;case"focusout":c="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case Nt:case Ct:case At:l=wn;break;case Rt:l=Fn;break;case"scroll":l=mn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ve(p,d))&&u.push(jr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=vn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Rn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:ii(l),f=null==c?o:ii(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,ni(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Mr(f))p++;for(f=0,m=d;m;m=Mr(m))f++;for(;0<p-f;)u=Mr(u),p--;for(;0<f-p;)d=Mr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Mr(u),d=Mr(d)}u=null}else u=null;null!==l&&Ur(a,o,l,u,!1),null!==c&&null!==h&&Ur(a,h,c,u,!0)}if("select"===(l=(o=r?ii(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Zn;else if(Gn(o))if(er)g=cr;else{g=or;var v=ar}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=lr);switch(g&&(g=g(e,r))?Qn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ie(o,"number",o.value)),v=r?ii(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(br=v,wr=r,xr=null);break;case"focusout":xr=wr=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,kr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":kr(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Kn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(v=Lr(r,b)).length&&(b=new kn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Ln&&qn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Cr(a,t)})}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ve(e,n))&&r.unshift(jr(e,s,i)),null!=(s=Ve(e,t))&&r.push(jr(e,s,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ve(n,s))&&a.unshift(jr(n,l,o)):i||null!=(l=Ve(n,s))&&a.push(jr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[$r])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function si(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var oi=[],ci=-1;function ui(e){return{current:e}}function hi(e){0>ci||(e.current=oi[ci],oi[ci]=null,ci--)}function fi(e,t){ci++,oi[ci]=e.current,e.current=t}var pi={},mi=ui(pi),gi=ui(!1),vi=pi;function yi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function xi(){hi(gi),hi(mi)}function Ei(e,t,n){if(mi.current!==pi)throw Error(a(168));fi(mi,t),fi(gi,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(a(108,G(t)||"Unknown",s));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,vi=mi.current,fi(mi,e),fi(gi,gi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ki(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,hi(gi),hi(mi),fi(mi,e)):hi(gi),fi(gi,n)}var Ti=null,Ii=null,Ni=s.unstable_runWithPriority,Ci=s.unstable_scheduleCallback,Ai=s.unstable_cancelCallback,Ri=s.unstable_shouldYield,Di=s.unstable_requestPaint,Fi=s.unstable_now,Oi=s.unstable_getCurrentPriorityLevel,Pi=s.unstable_ImmediatePriority,ji=s.unstable_UserBlockingPriority,Mi=s.unstable_NormalPriority,Ui=s.unstable_LowPriority,Vi=s.unstable_IdlePriority,zi={},Bi=void 0!==Di?Di:function(){},qi=null,Hi=null,Ki=!1,Wi=Fi(),Gi=1e4>Wi?Fi:function(){return Fi()-Wi};function Qi(){switch(Oi()){case Pi:return 99;case ji:return 98;case Mi:return 97;case Ui:return 96;case Vi:return 95;default:throw Error(a(332))}}function Yi(e){switch(e){case 99:return Pi;case 98:return ji;case 97:return Mi;case 96:return Ui;case 95:return Vi;default:throw Error(a(332))}}function Xi(e,t){return e=Yi(e),Ni(e,t)}function Ji(e,t,n){return e=Yi(e),Ci(e,t,n)}function $i(){if(null!==Hi){var e=Hi;Hi=null,Ai(e)}Zi()}function Zi(){if(!Ki&&null!==qi){Ki=!0;var e=0;try{var t=qi;Xi(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),qi=null}catch(n){throw null!==qi&&(qi=qi.slice(e+1)),Ci(Pi,$i),n}finally{Ki=!1}}}var es=x.ReactCurrentBatchConfig;function ts(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ns=ui(null),rs=null,is=null,ss=null;function as(){ss=is=rs=null}function os(e){var t=ns.current;hi(ns),e.type._context._currentValue=t}function ls(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function cs(e,t){rs=e,ss=is=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Va=!0),e.firstContext=null)}function us(e,t){if(ss!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ss=e,t=1073741823),t={context:e,observedBits:t,next:null},null===is){if(null===rs)throw Error(a(308));is=t,rs.dependencies={lanes:0,firstContext:t,responders:null}}else is=is.next=t;return e._currentValue}var hs=!1;function ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ms(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function gs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vs(e,t,n,r){var s=e.updateQueue;hs=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var c=l,u=c.next;c.next=null,null===o?a=u:o.next=u,o=c;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==o&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=c)}}if(null!==a){for(d=s.baseState,o=0,h=u=c=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(f,d,l):p)||void 0===l)break e;d=i({},d,l);break e;case 2:hs=!0}}null!==a.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(u=h=f,c=d):h=h.next=f,o|=l;if(null===(a=a.next)){if(null===(l=s.shared.pending))break;a=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===h&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,Wo|=o,e.lanes=o,e.memoizedState=d}}function ys(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var bs=(new r.Component).refs;function ws(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var xs={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vl(),i=yl(e),s=ps(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),ms(e,s),bl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vl(),i=yl(e),s=ps(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),ms(e,s),bl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vl(),r=yl(e),i=ps(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ms(e,i),bl(e,r,n)}};function Es(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,s))}function ks(e,t,n){var r=!1,i=pi,s=t.contextType;return"object"===typeof s&&null!==s?s=us(s):(i=wi(t)?vi:mi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):pi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function _s(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xs.enqueueReplaceState(t,t.state,null)}function Ss(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=bs,ds(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=us(s):(s=wi(t)?vi:mi.current,i.context=yi(e,s)),vs(e,n,i,r),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ws(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&xs.enqueueReplaceState(i,i.state,null),vs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Ts=Array.isArray;function Is(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===bs&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ns(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Cs(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=$l(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=nc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Is(e,t,n),r.return=e,r):((r=Zl(n.type,n.key,n.props,null,e.mode,r)).ref=Is(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=rc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=ec(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=nc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Zl(t.type,t.key,t.props,null,e.mode,n)).ref=Is(e,null,t),n.return=e,n;case k:return(t=rc(t,e.mode,n)).return=e,t}if(Ts(t)||B(t))return(t=ec(t,e.mode,n,null)).return=e,t;Ns(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===_?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null}if(Ts(n)||B(n))return null!==i?null:h(e,t,n,r,null);Ns(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===_?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ts(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);Ns(t,r)}return null}function m(i,a,o,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=s(v,a,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(a=s(h,a,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),c}function g(i,o,l,c){var u=B(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=s(y,o,g),null===h?u=y:h.sibling=y,h=y);return u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),u}return function(e,r,s,l){var c="object"===typeof s&&null!==s&&s.type===_&&null===s.key;c&&(s=s.props.children);var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case E:e:{for(u=s.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(s.type===_){n(e,c.sibling),(r=i(c,s.props.children)).return=e,e=r;break e}}else if(c.elementType===s.type){n(e,c.sibling),(r=i(c,s.props)).ref=Is(e,c,s),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}s.type===_?((r=ec(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=Zl(s.type,s.key,s.props,null,e.mode,l)).ref=Is(e,r,s),l.return=e,e=l)}return o(e);case k:e:{for(c=s.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=rc(s,e.mode,l)).return=e,e=r}return o(e)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=nc(s,e.mode,l)).return=e,e=r),o(e);if(Ts(s))return m(e,r,s,l);if(B(s))return g(e,r,s,l);if(u&&Ns(e,s),"undefined"===typeof s&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var As=Cs(!0),Rs=Cs(!1),Ds={},Fs=ui(Ds),Os=ui(Ds),Ps=ui(Ds);function js(e){if(e===Ds)throw Error(a(174));return e}function Ls(e,t){switch(fi(Ps,t),fi(Os,e),fi(Fs,Ds),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}hi(Fs),fi(Fs,t)}function Ms(){hi(Fs),hi(Os),hi(Ps)}function Us(e){js(Ps.current);var t=js(Fs.current),n=pe(t,e.type);t!==n&&(fi(Os,e),fi(Fs,n))}function Vs(e){Os.current===e&&(hi(Fs),hi(Os))}var zs=ui(0);function Bs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qs=null,Hs=null,Ks=!1;function Ws(e,t){var n=Xl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Gs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Qs(e){if(Ks){var t=Hs;if(t){var n=t;if(!Gs(e,t)){if(!(t=Qr(n.nextSibling))||!Gs(e,t))return e.flags=-1025&e.flags|2,Ks=!1,void(qs=e);Ws(qs,n)}qs=e,Hs=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ks=!1,qs=e}}function Ys(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;qs=e}function Xs(e){if(e!==qs)return!1;if(!Ks)return Ys(e),Ks=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Hs;t;)Ws(e,t),t=Qr(t.nextSibling);if(Ys(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Hs=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Hs=null}}else Hs=qs?Qr(e.stateNode.nextSibling):null;return!0}function Js(){Hs=qs=null,Ks=!1}var $s=[];function Zs(){for(var e=0;e<$s.length;e++)$s[e]._workInProgressVersionPrimary=null;$s.length=0}var ea=x.ReactCurrentDispatcher,ta=x.ReactCurrentBatchConfig,na=0,ra=null,ia=null,sa=null,aa=!1,oa=!1;function la(){throw Error(a(321))}function ca(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ua(e,t,n,r,i,s){if(na=s,ra=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ea.current=null===e||null===e.memoizedState?ja:La,e=n(r,i),oa){s=0;do{if(oa=!1,!(25>s))throw Error(a(301));s+=1,sa=ia=null,t.updateQueue=null,ea.current=Ma,e=n(r,i)}while(oa)}if(ea.current=Pa,t=null!==ia&&null!==ia.next,na=0,sa=ia=ra=null,aa=!1,t)throw Error(a(300));return e}function ha(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sa?ra.memoizedState=sa=e:sa=sa.next=e,sa}function da(){if(null===ia){var e=ra.alternate;e=null!==e?e.memoizedState:null}else e=ia.next;var t=null===sa?ra.memoizedState:sa.next;if(null!==t)sa=t,ia=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ia=e).memoizedState,baseState:ia.baseState,baseQueue:ia.baseQueue,queue:ia.queue,next:null},null===sa?ra.memoizedState=sa=e:sa=sa.next=e}return sa}function fa(e,t){return"function"===typeof t?t(e):t}function pa(e){var t=da(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ia,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=o=s=null,c=i;do{var u=c.lane;if((na&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(o=l=h,s=r):l=l.next=h,ra.lanes|=u,Wo|=u}c=c.next}while(null!==c&&c!==i);null===l?s=r:l.next=o,ur(r,t.memoizedState)||(Va=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ma(e){var t=da(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);ur(s,t.memoizedState)||(Va=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ga(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(na&e)===e)&&(t._workInProgressVersionPrimary=r,$s.push(t))),e)return n(t._source);throw $s.push(t),Error(a(350))}function va(e,t,n,r){var i=Mo;if(null===i)throw Error(a(349));var s=t._getVersion,o=s(t._source),l=ea.current,c=l.useState(function(){return ga(i,t,n)}),u=c[1],h=c[0];c=sa;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=ra;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect(function(){f.getSnapshot=n,f.setSnapshot=u;var e=s(t._source);if(!ur(o,e)){e=n(t._source),ur(h,e)||(u(e),e=yl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Ht(a),c=1<<l;r[l]|=e,a&=~c}}},[n,t,r]),l.useEffect(function(){return r(t._source,function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=yl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(bi){n(function(){throw bi})}})},[t,r]),ur(p,n)&&ur(m,t)&&ur(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:h}).dispatch=u=Oa.bind(null,ra,e),c.queue=e,c.baseQueue=null,h=ga(i,t,n),c.memoizedState=c.baseState=h),h}function ya(e,t,n){return va(da(),e,t,n)}function ba(e){var t=ha();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e}).dispatch=Oa.bind(null,ra,e),[t.memoizedState,e]}function wa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ra.updateQueue)?(t={lastEffect:null},ra.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function xa(e){return e={current:e},ha().memoizedState=e}function Ea(){return da().memoizedState}function ka(e,t,n,r){var i=ha();ra.flags|=e,i.memoizedState=wa(1|t,n,void 0,void 0===r?null:r)}function _a(e,t,n,r){var i=da();r=void 0===r?null:r;var s=void 0;if(null!==ia){var a=ia.memoizedState;if(s=a.destroy,null!==r&&ca(r,a.deps))return void wa(t,n,s,r)}ra.flags|=e,i.memoizedState=wa(1|t,n,s,r)}function Sa(e,t){return ka(516,4,e,t)}function Ta(e,t){return _a(516,4,e,t)}function Ia(e,t){return _a(4,2,e,t)}function Na(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Na.bind(null,t,e),n)}function Aa(){}function Ra(e,t){var n=da();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ca(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Da(e,t){var n=da();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ca(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fa(e,t){var n=Qi();Xi(98>n?98:n,function(){e(!0)}),Xi(97<n?97:n,function(){var n=ta.transition;ta.transition=1;try{e(!1),t()}finally{ta.transition=n}})}function Oa(e,t,n){var r=vl(),i=yl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?s.next=s:(s.next=a.next,a.next=s),t.pending=s,a=e.alternate,e===ra||null!==a&&a===ra)oa=aa=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=a(o,n);if(s.eagerReducer=a,s.eagerState=l,ur(l,o))return}catch(di){}bl(e,i,r)}}var Pa={readContext:us,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useMutableSource:la,useOpaqueIdentifier:la,unstable_isNewReconciler:!1},ja={readContext:us,useCallback:function(e,t){return ha().memoizedState=[e,void 0===t?null:t],e},useContext:us,useEffect:Sa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ka(4,2,Na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var n=ha();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ha();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,ra,e),[r.memoizedState,e]},useRef:xa,useState:ba,useDebugValue:Aa,useDeferredValue:function(e){var t=ba(e),n=t[0],r=t[1];return Sa(function(){var t=ta.transition;ta.transition=1;try{r(e)}finally{ta.transition=t}},[e]),n},useTransition:function(){var e=ba(!1),t=e[0];return xa(e=Fa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ha();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},va(r,e,t,n)},useOpaqueIdentifier:function(){if(Ks){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}(function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(a(355))}),n=ba(t)[1];return 0===(2&ra.mode)&&(ra.flags|=516,wa(5,function(){n("r:"+(Xr++).toString(36))},void 0,null)),t}return ba(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},La={readContext:us,useCallback:Ra,useContext:us,useEffect:Ta,useImperativeHandle:Ca,useLayoutEffect:Ia,useMemo:Da,useReducer:pa,useRef:Ea,useState:function(){return pa(fa)},useDebugValue:Aa,useDeferredValue:function(e){var t=pa(fa),n=t[0],r=t[1];return Ta(function(){var t=ta.transition;ta.transition=1;try{r(e)}finally{ta.transition=t}},[e]),n},useTransition:function(){var e=pa(fa)[0];return[Ea().current,e]},useMutableSource:ya,useOpaqueIdentifier:function(){return pa(fa)[0]},unstable_isNewReconciler:!1},Ma={readContext:us,useCallback:Ra,useContext:us,useEffect:Ta,useImperativeHandle:Ca,useLayoutEffect:Ia,useMemo:Da,useReducer:ma,useRef:Ea,useState:function(){return ma(fa)},useDebugValue:Aa,useDeferredValue:function(e){var t=ma(fa),n=t[0],r=t[1];return Ta(function(){var t=ta.transition;ta.transition=1;try{r(e)}finally{ta.transition=t}},[e]),n},useTransition:function(){var e=ma(fa)[0];return[Ea().current,e]},useMutableSource:ya,useOpaqueIdentifier:function(){return ma(fa)[0]},unstable_isNewReconciler:!1},Ua=x.ReactCurrentOwner,Va=!1;function za(e,t,n,r){t.child=null===e?Rs(t,null,n,r):As(t,e.child,n,r)}function Ba(e,t,n,r,i){n=n.render;var s=t.ref;return cs(t,i),r=ua(e,t,n,r,s,i),null===e||Va?(t.flags|=1,za(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,co(e,t,i))}function qa(e,t,n,r,i,s){if(null===e){var a=n.type;return"function"!==typeof a||Jl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zl(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ha(e,t,a,r,i,s))}return a=e.child,0===(i&s)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?co(e,t,s):(t.flags|=1,(e=$l(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ha(e,t,n,r,i,s){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Va=!1,0===(s&i))return t.lanes=e.lanes,co(e,t,s);0!==(16384&e.flags)&&(Va=!0)}return Ga(e,t,n,r,s)}function Ka(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Il(t,n);else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Il(t,e),null;t.memoizedState={baseLanes:0},Il(t,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Il(t,r);return za(e,t,i,n),t.child}function Wa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ga(e,t,n,r,i){var s=wi(n)?vi:mi.current;return s=yi(t,s),cs(t,i),n=ua(e,t,n,r,s,i),null===e||Va?(t.flags|=1,za(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,co(e,t,i))}function Qa(e,t,n,r,i){if(wi(n)){var s=!0;_i(t)}else s=!1;if(cs(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ks(t,n,r),Ss(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=us(c):c=yi(t,c=wi(n)?vi:mi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&_s(t,a,r,c),hs=!1;var d=t.memoizedState;a.state=d,vs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||gi.current||hs?("function"===typeof u&&(ws(t,n,u,r),l=t.memoizedState),(o=hs||Es(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ts(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=us(l):l=yi(t,l=wi(n)?vi:mi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&_s(t,a,r,l),hs=!1,d=t.memoizedState,a.state=d,vs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||gi.current||hs?("function"===typeof f&&(ws(t,n,f,r),p=t.memoizedState),(c=hs||Es(t,n,c,r,d,p,l))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ya(e,t,n,r,s,i)}function Ya(e,t,n,r,i,s){Wa(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Si(t,n,!1),co(e,t,s);r=t.stateNode,Ua.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=As(t,e.child,null,s),t.child=As(t,null,o,s)):za(e,t,o,s),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function Xa(e){var t=e.stateNode;t.pendingContext?Ei(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ei(0,t.context,!1),Ls(e,t.containerInfo)}var Ja,$a,Za,eo,to={dehydrated:null,retryLane:0};function no(e,t,n){var r,i=t.pendingProps,s=zs.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),fi(zs,1&s),null===e?(void 0!==i.fallback&&Qs(t),e=i.children,s=i.fallback,a?(e=ro(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=to,e):"number"===typeof i.unstable_expectedLoadTime?(e=ro(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=to,t.lanes=33554432,e):((n=tc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=so(e,t,i.children,i.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=to,i):(n=io(e,t,i.children,n),t.memoizedState=null,n))}function ro(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=tc(t,i,0,null),n=ec(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function io(e,t,n,r){var i=e.child;return e=i.sibling,n=$l(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function so(e,t,n,r,i){var s=t.mode,a=e.child;e=a.sibling;var o={mode:"hidden",children:n};return 0===(2&s)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=o,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=$l(a,o),null!==e?r=$l(e,r):(r=ec(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ao(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ls(e.return,t)}function oo(e,t,n,r,i,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=s)}function lo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(za(e,t,r.children,n),0!==(2&(r=zs.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ao(e,n);else if(19===e.tag)ao(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(zs,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Bs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),oo(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}oo(t,!0,n,null,s,t.lastEffect);break;case"together":oo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function co(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Wo|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=$l(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$l(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function uo(e,t){if(!Ks)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ho(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return wi(t.type)&&xi(),null;case 3:return Ms(),hi(gi),hi(mi),Zs(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Xs(t)?t.flags|=4:r.hydrate||(t.flags|=256)),$a(t),null;case 5:Vs(t);var s=js(Ps.current);if(n=t.type,null!==e&&null!=t.stateNode)Za(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=js(Fs.current),Xs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[$r]=t,r[Zr]=o,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,o),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ar("invalid",r);break;case"textarea":le(r,o),Ar("invalid",r)}for(var c in _e(n,o),e=null,o)o.hasOwnProperty(c)&&(s=o[c],"children"===c?"string"===typeof s?r.textContent!==s&&(e=["children",s]):"number"===typeof s&&r.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(c)&&null!=s&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":X(r),re(r,o,!0);break;case"textarea":X(r),ue(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===s.nodeType?s:s.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Zr]=r,Ja(e,t,!1,!1),t.stateNode=e,c=Se(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),s=r;break;case"iframe":case"object":case"embed":Ar("load",e),s=r;break;case"video":case"audio":for(s=0;s<Tr.length;s++)Ar(Tr[s],e);s=r;break;case"source":Ar("error",e),s=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),s=r;break;case"details":Ar("toggle",e),s=r;break;case"input":ee(e,r),s=Z(e,r),Ar("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":le(e,r),s=oe(e,r),Ar("invalid",e);break;default:s=r}_e(n,s);var u=s;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];"style"===o?Ee(e,h):"dangerouslySetInnerHTML"===o?null!=(h=h?h.__html:void 0)&&ve(e,h):"children"===o?"string"===typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=h&&"onScroll"===o&&Ar("scroll",e):null!=h&&w(e,o,h,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ae(e,!!r.multiple,o,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)eo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=js(Ps.current),js(Fs.current),Xs(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return hi(zs),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Xs(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&zs.current)?0===qo&&(qo=3):(0!==qo&&3!==qo||(qo=4),null===Mo||0===(134217727&Wo)&&0===(134217727&Go)||kl(Mo,Vo))),(r||n)&&(t.flags|=4),null);case 4:return Ms(),$a(t),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return os(t),null;case 19:if(hi(zs),null===(r=t.memoizedState))return null;if(o=0!==(64&t.flags),null===(c=r.rendering))if(o)uo(r,!1);else{if(0!==qo||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Bs(e))){for(t.flags|=64,uo(r,!1),null!==(o=c.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(zs,1&zs.current|2),t.child}e=e.sibling}null!==r.tail&&Gi()>Jo&&(t.flags|=64,o=!0,uo(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=Bs(c))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),uo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ks)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>Jo&&1073741824!==n&&(t.flags|=64,o=!0,uo(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=zs.current,fi(zs,o?1&t|2:1&t),n):null;case 23:case 24:return Nl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function fo(e){switch(e.tag){case 1:wi(e.type)&&xi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ms(),hi(gi),hi(mi),Zs(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Vs(e),null;case 13:return hi(zs),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return hi(zs),null;case 4:return Ms(),null;case 10:return os(e),null;case 23:case 24:return Nl(),null;default:return null}}function po(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i}}function mo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}Ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(){},Za=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,js(Fs.current);var a,o=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),o=[];break;case"option":s=se(e,s),r=se(e,r),o=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),o=[];break;case"textarea":s=oe(e,s),r=oe(e,r),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(h in _e(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var c=s[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(c=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(o=o||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Ar("scroll",e),o||c===u||(o=[])):"object"===typeof u&&null!==u&&u.$$typeof===P?u.toString():(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}},eo=function(e,t,n,r){n!==r&&(t.flags|=4)};var go="function"===typeof WeakMap?WeakMap:Map;function vo(e,t,n){(n=ps(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tl||(tl=!0,nl=r),mo(0,t)},n}function yo(e,t,n){(n=ps(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return mo(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===rl?rl=new Set([this]):rl.add(this),mo(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var bo="function"===typeof WeakSet?WeakSet:Set;function wo(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Wl(e,n)}else t.current=null}function xo(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ts(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function Eo(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ql(n,e),Bl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:ts(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ys(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ys(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ko(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _o(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(Ti,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ql(t,n);else{r=t;try{i()}catch(s){Wl(r,s)}}n=n.next}while(n!==e)}break;case 1:if(wo(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){Wl(t,s)}break;case 5:wo(t);break;case 4:Ao(e,t)}}function So(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function To(e){return 5===e.tag||3===e.tag||4===e.tag}function Io(e){e:{for(var t=e.return;null!==t;){if(To(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||To(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?No(e,n,t):Co(e,n,t)}function No(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(No(e,t,n),e=e.sibling;null!==e;)No(e,t,n),e=e.sibling}function Co(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Co(e,t,n),e=e.sibling;null!==e;)Co(e,t,n),e=e.sibling}function Ao(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var o=e,l=i,c=l;;)if(_o(o,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(o=n,l=i.stateNode,8===o.nodeType?o.parentNode.removeChild(l):o.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(_o(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function Ro(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];"style"===o?Ee(n,l):"dangerouslySetInnerHTML"===o?ve(n,l):"children"===o?ye(n,l):w(n,o,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?ae(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Xo=Gi(),ko(t.child,!0)),void Do(t);case 19:return void Do(t);case 23:case 24:return void ko(t,null!==t.memoizedState)}throw Error(a(163))}function Do(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new bo),t.forEach(function(t){var r=Ql.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Fo(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Oo=Math.ceil,Po=x.ReactCurrentDispatcher,jo=x.ReactCurrentOwner,Lo=0,Mo=null,Uo=null,Vo=0,zo=0,Bo=ui(0),qo=0,Ho=null,Ko=0,Wo=0,Go=0,Qo=0,Yo=null,Xo=0,Jo=1/0;function $o(){Jo=Gi()+500}var Zo,el=null,tl=!1,nl=null,rl=null,il=!1,sl=null,al=90,ol=[],ll=[],cl=null,ul=0,hl=null,dl=-1,fl=0,pl=0,ml=null,gl=!1;function vl(){return 0!==(48&Lo)?Gi():-1!==dl?dl:dl=Gi()}function yl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Qi()?1:2;if(0===fl&&(fl=Ko),0!==es.transition){0!==pl&&(pl=null!==Yo?Yo.pendingLanes:0),e=fl;var t=4186112&~pl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Qi(),0!==(4&Lo)&&98===e?e=Vt(12,fl):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),fl),e}function bl(e,t,n){if(50<ul)throw ul=0,hl=null,Error(a(185));if(null===(e=wl(e,t)))return null;qt(e,t,n),e===Mo&&(Go|=t,4===qo&&kl(e,Vo));var r=Qi();1===t?0!==(8&Lo)&&0===(48&Lo)?_l(e):(xl(e,n),0===Lo&&($o(),$i())):(0===(4&Lo)||98!==r&&99!==r||(null===cl?cl=new Set([e]):cl.add(e)),xl(e,n)),Yo=e}function wl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function xl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Ht(o),c=1<<l,u=s[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=t,Lt(c);var h=jt;s[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);o&=~c}if(r=Mt(e,e===Mo?Vo:0),t=jt,0===r)null!==n&&(n!==zi&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==zi&&Ai(n)}15===t?(n=_l.bind(null,e),null===qi?(qi=[n],Hi=Ci(Pi,Zi)):qi.push(n),n=zi):14===t?n=Ji(99,_l.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Ji(n,El.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function El(e){if(dl=-1,pl=fl=0,0!==(48&Lo))throw Error(a(327));var t=e.callbackNode;if(zl()&&e.callbackNode!==t)return null;var n=Mt(e,e===Mo?Vo:0);if(0===n)return null;var r=n,i=Lo;Lo|=16;var s=Dl();for(Mo===e&&Vo===r||($o(),Al(e,r));;)try{Pl();break}catch(l){Rl(e,l)}if(as(),Po.current=s,Lo=i,null!==Uo?r=0:(Mo=null,Vo=0,r=qo),0!==(Ko&Go))Al(e,0);else if(0!==r){if(2===r&&(Lo|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Fl(e,n))),1===r)throw t=Ho,Al(e,0),kl(e,n),xl(e,Gi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ml(e);break;case 3:if(kl(e,n),(62914560&n)===n&&10<(r=Xo+500-Gi())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){vl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ml.bind(null,e),r);break}Ml(e);break;case 4:if(kl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-Ht(n);s=1<<o,(o=r[o])>i&&(i=o),n&=~s}if(n=i,10<(n=(120>(n=Gi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Oo(n/1960))-n)){e.timeoutHandle=Kr(Ml.bind(null,e),n);break}Ml(e);break;default:throw Error(a(329))}}return xl(e,Gi()),e.callbackNode===t?El.bind(null,e):null}function kl(e,t){for(t&=~Qo,t&=~Go,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function _l(e){if(0!==(48&Lo))throw Error(a(327));if(zl(),e===Mo&&0!==(e.expiredLanes&Vo)){var t=Vo,n=Fl(e,t);0!==(Ko&Go)&&(n=Fl(e,t=Mt(e,t)))}else n=Fl(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(Lo|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Fl(e,t))),1===n)throw n=Ho,Al(e,0),kl(e,t),xl(e,Gi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ml(e),xl(e,Gi()),null}function Sl(e,t){var n=Lo;Lo|=1;try{return e(t)}finally{0===(Lo=n)&&($o(),$i())}}function Tl(e,t){var n=Lo;Lo&=-2,Lo|=8;try{return e(t)}finally{0===(Lo=n)&&($o(),$i())}}function Il(e,t){fi(Bo,zo),zo|=t,Ko|=t}function Nl(){zo=Bo.current,hi(Bo)}function Al(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Uo)for(n=Uo.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&xi();break;case 3:Ms(),hi(gi),hi(mi),Zs();break;case 5:Vs(r);break;case 4:Ms();break;case 13:case 19:hi(zs);break;case 10:os(r);break;case 23:case 24:Nl()}n=n.return}Mo=e,Uo=$l(e.current,null),Vo=zo=Ko=t,qo=0,Ho=null,Qo=Go=Wo=0}function Rl(e,t){for(;;){var n=Uo;try{if(as(),ea.current=Pa,aa){for(var r=ra.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}aa=!1}if(na=0,sa=ia=ra=null,oa=!1,jo.current=null,null===n||null===n.return){qo=1,Ho=t,Uo=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Vo,o.flags|=2048,o.firstEffect=o.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.lanes=u.lanes):(o.updateQueue=null,o.memoizedState=null)}var h=0!==(1&zs.current),d=a;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var v=new Set;v.add(c),d.updateQueue=v}else g.add(c);if(0===(2&d.mode)){if(d.flags|=64,o.flags|=16384,o.flags&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=ps(-1,1);y.tag=2,ms(o,y)}o.lanes|=1;break e}l=void 0,o=t;var b=s.pingCache;if(null===b?(b=s.pingCache=new go,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(o)){l.add(o);var w=Gl.bind(null,s,c,o);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((G(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==qo&&(qo=2),l=po(l,o),d=a;do{switch(d.tag){case 3:s=l,d.flags|=4096,t&=-t,d.lanes|=t,gs(d,vo(0,s,t));break e;case 1:s=l;var x=d.type,E=d.stateNode;if(0===(64&d.flags)&&("function"===typeof x.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===rl||!rl.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,gs(d,yo(d,s,t));break e}}d=d.return}while(null!==d)}Ll(n)}catch(Li){t=Li,Uo===n&&null!==n&&(Uo=n=n.return);continue}break}}function Dl(){var e=Po.current;return Po.current=Pa,null===e?Pa:e}function Fl(e,t){var n=Lo;Lo|=16;var r=Dl();for(Mo===e&&Vo===t||Al(e,t);;)try{Ol();break}catch(i){Rl(e,i)}if(as(),Lo=n,Po.current=r,null!==Uo)throw Error(a(261));return Mo=null,Vo=0,qo}function Ol(){for(;null!==Uo;)jl(Uo)}function Pl(){for(;null!==Uo&&!Ri();)jl(Uo)}function jl(e){var t=Zo(e.alternate,e,zo);e.memoizedProps=e.pendingProps,null===t?Ll(e):Uo=t,jo.current=null}function Ll(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ho(n,t,zo)))return void(Uo=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&zo)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=fo(t)))return n.flags&=2047,void(Uo=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Uo=t);Uo=t=e}while(null!==t);0===qo&&(qo=5)}function Ml(e){var t=Qi();return Xi(99,Ul.bind(null,e,t)),null}function Ul(e,t){do{zl()}while(null!==sl);if(0!==(48&Lo))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,l=e.expirationTimes;0<s;){var c=31-Ht(s),u=1<<c;i[c]=0,o[c]=-1,l[c]=-1,s&=~u}if(null!==cl&&0===(24&r)&&cl.has(e)&&cl.delete(e),e===Mo&&(Uo=Mo=null,Vo=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Lo,Lo|=32,jo.current=null,zr=Yt,vr(o=gr())){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,s=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(Li){l=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=o,v=null;t:for(;;){for(var y;g!==l||0!==s&&3!==g.nodeType||(d=h+s),g!==c||0!==u&&3!==g.nodeType||(f=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===o)break t;if(v===l&&++p===s&&(d=h),v===c&&++m===u&&(f=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Br={focusedElem:o,selectionRange:l},Yt=!1,ml=null,gl=!1,el=r;do{try{Vl()}catch(Li){if(null===el)throw Error(a(330));Wl(el,Li),el=el.nextEffect}}while(null!==el);ml=null,el=r;do{try{for(o=e;null!==el;){var b=el.flags;if(16&b&&ye(el.stateNode,""),128&b){var w=el.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:Io(el),el.flags&=-3;break;case 6:Io(el),el.flags&=-3,Ro(el.alternate,el);break;case 1024:el.flags&=-1025;break;case 1028:el.flags&=-1025,Ro(el.alternate,el);break;case 4:Ro(el.alternate,el);break;case 8:Ao(o,l=el);var E=l.alternate;So(l),null!==E&&So(E)}el=el.nextEffect}}catch(Li){if(null===el)throw Error(a(330));Wl(el,Li),el=el.nextEffect}}while(null!==el);if(x=Br,w=gr(),b=x.focusedElem,o=x.selectionRange,w!==b&&b&&b.ownerDocument&&mr(b.ownerDocument.documentElement,b)){null!==o&&vr(b)&&(w=o.start,void 0===(x=o.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,E=Math.min(o.start,l),o=void 0===o.end?E:Math.min(o.end,l),!x.extend&&E>o&&(l=o,o=E,E=l),l=pr(b,E),s=pr(b,o),l&&s&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==s.node||x.focusOffset!==s.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),E>o?(x.addRange(w),x.extend(s.node,s.offset)):(w.setEnd(s.node,s.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Yt=!!zr,Br=zr=null,e.current=n,el=r;do{try{for(b=e;null!==el;){var k=el.flags;if(36&k&&Eo(b,el.alternate,el),128&k){w=void 0;var _=el.ref;if(null!==_){var S=el.stateNode;el.tag,w=S,"function"===typeof _?_(w):_.current=w}}el=el.nextEffect}}catch(Li){if(null===el)throw Error(a(330));Wl(el,Li),el=el.nextEffect}}while(null!==el);el=null,Bi(),Lo=i}else e.current=n;if(il)il=!1,sl=e,al=t;else for(el=r;null!==el;)t=el.nextEffect,el.nextEffect=null,8&el.flags&&((k=el).sibling=null,k.stateNode=null),el=t;if(0===(r=e.pendingLanes)&&(rl=null),1===r?e===hl?ul++:(ul=0,hl=e):ul=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(Ti,n,void 0,64===(64&n.current.flags))}catch(Li){}if(xl(e,Gi()),tl)throw tl=!1,e=nl,nl=null,e;return 0!==(8&Lo)||$i(),null}function Vl(){for(;null!==el;){var e=el.alternate;gl||null===ml||(0!==(8&el.flags)?et(el,ml)&&(gl=!0):13===el.tag&&Fo(e,el)&&et(el,ml)&&(gl=!0));var t=el.flags;0!==(256&t)&&xo(e,el),0===(512&t)||il||(il=!0,Ji(97,function(){return zl(),null})),el=el.nextEffect}}function zl(){if(90!==al){var e=97<al?97:al;return al=90,Xi(e,Hl)}return!1}function Bl(e,t){ol.push(t,e),il||(il=!0,Ji(97,function(){return zl(),null}))}function ql(e,t){ll.push(t,e),il||(il=!0,Ji(97,function(){return zl(),null}))}function Hl(){if(null===sl)return!1;var e=sl;if(sl=null,0!==(48&Lo))throw Error(a(331));var t=Lo;Lo|=32;var n=ll;ll=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,"function"===typeof o)try{o()}catch(li){if(null===s)throw Error(a(330));Wl(s,li)}}for(n=ol,ol=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(li){if(null===s)throw Error(a(330));Wl(s,li)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Lo=t,$i(),!0}function Kl(e,t,n){ms(e,t=vo(0,t=po(n,t),1)),t=vl(),null!==(e=wl(e,1))&&(qt(e,1,t),xl(e,t))}function Wl(e,t){if(3===e.tag)Kl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Kl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===rl||!rl.has(r))){var i=yo(n,e=po(t,e),1);if(ms(n,i),i=vl(),null!==(n=wl(n,1)))qt(n,1,i),xl(n,i);else if("function"===typeof r.componentDidCatch&&(null===rl||!rl.has(r)))try{r.componentDidCatch(t,e)}catch(s){}break}}n=n.return}}function Gl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=vl(),e.pingedLanes|=e.suspendedLanes&n,Mo===e&&(Vo&n)===n&&(4===qo||3===qo&&(62914560&Vo)===Vo&&500>Gi()-Xo?Al(e,0):Qo|=n),xl(e,t)}function Ql(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Qi()?1:2:(0===fl&&(fl=Ko),0===(t=zt(62914560&~fl))&&(t=4194304))),n=vl(),null!==(e=wl(e,t))&&(qt(e,t,n),xl(e,n))}function Yl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Xl(e,t,n,r){return new Yl(e,t,n,r)}function Jl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $l(e,t){var n=e.alternate;return null===n?((n=Xl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zl(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Jl(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return ec(n.children,i,s,t);case j:o=8,i|=16;break;case S:o=8,i|=1;break;case T:return(e=Xl(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=s,e;case A:return(e=Xl(13,n,t,i)).type=A,e.elementType=A,e.lanes=s,e;case R:return(e=Xl(19,n,t,i)).elementType=R,e.lanes=s,e;case L:return tc(n,i,s,t);case M:return(e=Xl(24,n,t,i)).elementType=M,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:o=10;break e;case N:o=9;break e;case C:o=11;break e;case D:o=14;break e;case F:o=16,r=null;break e;case O:o=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Xl(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function ec(e,t,n,r){return(e=Xl(7,e,r,t)).lanes=n,e}function tc(e,t,n,r){return(e=Xl(23,e,r,t)).elementType=L,e.lanes=n,e}function nc(e,t,n){return(e=Xl(6,e,null,t)).lanes=n,e}function rc(e,t,n){return(t=Xl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ic(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function sc(e,t,n,r){var i=t.current,s=vl(),o=yl(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(wi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(wi(c)){n=ki(n,c,l);break e}}n=l}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=ps(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ms(i,t),bl(i,o,s),o}function ac(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function oc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function lc(e,t){oc(e,t),(e=e.alternate)&&oc(e,t)}function cc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new ic(e,t,null!=n&&!0===n.hydrate),t=Xl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ds(t),e[ei]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function hc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if("function"===typeof i){var o=i;i=function(){var e=ac(a);o.call(e)}}sc(t,a,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new cc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=s._internalRoot,"function"===typeof i){var l=i;i=function(){var e=ac(a);l.call(e)}}Tl(function(){sc(t,a,e,i)})}return ac(a)}function dc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!uc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Zo=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||gi.current)Va=!0;else{if(0===(n&r)){switch(Va=!1,t.tag){case 3:Xa(t),Js();break;case 5:Us(t);break;case 1:wi(t.type)&&_i(t);break;case 4:Ls(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(ns,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?no(e,t,n):(fi(zs,1&zs.current),null!==(t=co(e,t,n))?t.sibling:null);fi(zs,1&zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return lo(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(zs,zs.current),r)break;return null;case 23:case 24:return t.lanes=0,Ka(e,t,n)}return co(e,t,n)}Va=0!==(16384&e.flags)}else Va=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,mi.current),cs(t,n),i=ua(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,wi(r)){var s=!0;_i(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ds(t);var o=r.getDerivedStateFromProps;"function"===typeof o&&ws(t,r,o,e),i.updater=xs,t.stateNode=i,i._reactInternals=t,Ss(t,r,e,n),t=Ya(null,t,r,!0,s,n)}else t.tag=0,za(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"===typeof e)return Jl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(i),e=ts(i,e),s){case 0:t=Ga(null,t,i,e,n);break e;case 1:t=Qa(null,t,i,e,n);break e;case 11:t=Ba(null,t,i,e,n);break e;case 14:t=qa(null,t,i,ts(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:ts(r,i),n);case 1:return r=t.type,i=t.pendingProps,Qa(e,t,r,i=t.elementType===r?i:ts(r,i),n);case 3:if(Xa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,fs(e,t),vs(t,r,null,n),(r=t.memoizedState.element)===i)Js(),t=co(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Hs=Qr(t.stateNode.containerInfo.firstChild),qs=t,s=Ks=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],$s.push(s);for(n=Rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else za(e,t,r,n),Js();t=t.child}return t;case 5:return Us(t),null===e&&Qs(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,Hr(r,i)?o=null:null!==s&&Hr(r,s)&&(t.flags|=16),Wa(e,t),za(e,t,o,n),t.child;case 6:return null===e&&Qs(t),null;case 13:return no(e,t,n);case 4:return Ls(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=As(t,null,r,n):za(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:ts(r,i),n);case 7:return za(e,t,t.pendingProps,n),t.child;case 8:case 12:return za(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value;var l=t.type._context;if(fi(ns,l._currentValue),l._currentValue=s,null!==o)if(l=o.value,0===(s=ur(l,s)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(o.children===i.children&&!gi.current){t=co(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){o=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&s)){1===l.tag&&((u=ps(-1,n&-n)).tag=2,ms(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ls(l.return,n),c.lanes|=n;break}u=u.next}}else o=10===l.tag&&l.type===t.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}za(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,cs(t,n),r=r(i=us(i,s.unstable_observedBits)),t.flags|=1,za(e,t,r,n),t.child;case 14:return s=ts(i=t.type,t.pendingProps),qa(e,t,i,s=ts(i.type,s),r,n);case 15:return Ha(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ts(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,wi(r)?(e=!0,_i(t)):e=!1,cs(t,n),ks(t,r,i),Ss(t,r,i,n),Ya(null,t,r,!0,e,n);case 19:return lo(e,t,n);case 23:case 24:return Ka(e,t,n)}throw Error(a(156,t.tag))},cc.prototype.render=function(e){sc(e,this._internalRoot,null,null)},cc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;sc(null,e,null,function(){t[ei]=null})},tt=function(e){13===e.tag&&(bl(e,4,vl()),lc(e,4))},nt=function(e){13===e.tag&&(bl(e,67108864,vl()),lc(e,67108864))},rt=function(e){if(13===e.tag){var t=vl(),n=yl(e);bl(e,n,t),lc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=si(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Fe=Sl,Oe=function(e,t,n,r,i){var s=Lo;Lo|=4;try{return Xi(98,e.bind(null,t,n,r,i))}finally{0===(Lo=s)&&($o(),$i())}},Pe=function(){0===(49&Lo)&&(function(){if(null!==cl){var e=cl;cl=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,xl(e,Gi())})}$i()}(),zl())},je=function(e,t){var n=Lo;Lo|=2;try{return e(t)}finally{0===(Lo=n)&&($o(),$i())}};var fc={Events:[ri,ii,si,Re,De,zl,{current:!1}]},pc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},mc={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Ti=gc.inject(mc),Ii=gc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fc,t.createPortal=dc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Lo;if(0!==(48&n))return e(t);Lo|=1;try{if(e)return Xi(99,e.bind(null,t))}finally{Lo=n,$i()}},t.hydrate=function(e,t,n){if(!uc(t))throw Error(a(200));return hc(null,e,t,!0,n)},t.render=function(e,t,n){if(!uc(t))throw Error(a(200));return hc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!uc(e))throw Error(a(40));return!!e._reactRootContainer&&(Tl(function(){hc(null,null,e,!1,function(){e._reactRootContainer=null,e[ei]=null})}),!0)},t.unstable_batchedUpdates=Sl,t.unstable_createPortal=function(e,t){return dc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return hc(e,t,n,!1,r)},t.version="17.0.2"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),i=n(950);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new d;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(e){return function(e){const t=u(e);return h.encodeByteArray(t,!0)}(e).replace(/\./g,"")},p=function(e){try{return h.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const m=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,g=()=>{try{return m()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/State-Duma",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&p(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},v=e=>{var t,n;return null===(n=null===(t=g())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},y=()=>{var e;return null===(e=g())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=g())||void 0===t?void 0:t["_".concat(e)]};class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){try{return"object"===typeof indexedDB}catch(e){return!1}}class k extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(S,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new k(n,s,t)}}const S=/\{\$([^}]+)}/g;function T(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(I(n)&&I(s)){if(!T(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I(e){return null!==e&&"object"===typeof e}function N(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function C(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function A(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class R{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D(){}function F(e){return e&&e._delegate?e._delegate:e}class O{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const P="[DEFAULT]";class j{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new w;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:P})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===P?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.component?this.component.multipleInstances?e:P:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class L{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new j(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const M=[];var U;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(U||(U={}));const V={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},z=U.INFO,B={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},q=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=B[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class H{constructor(e){this.name=e,this._logLevel=z,this._logHandler=q,this._userLogHandler=null,M.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in U))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...t),this._logHandler(this,U.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...t),this._logHandler(this,U.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,U.INFO,...t),this._logHandler(this,U.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,U.WARN,...t),this._logHandler(this,U.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,U.ERROR,...t),this._logHandler(this,U.ERROR,...t)}}let K,W;const G=new WeakMap,Q=new WeakMap,Y=new WeakMap,X=new WeakMap,J=new WeakMap;let $={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Q.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Y.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return te(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Z(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ne(this),n),te(G.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return te(e.apply(ne(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(ne(this),t,...r);return Y.set(s,t.sort?t.sort():[t]),te(s)}}function ee(e){return"function"===typeof e?Z(e):(e instanceof IDBTransaction&&function(e){if(Q.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Q.set(e,t)}(e),t=e,(K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,$):e);var t}function te(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(te(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&G.set(t,e)}).catch(()=>{}),J.set(t,e),t}(e);if(X.has(e))return X.get(e);const t=ee(e);return t!==e&&(X.set(e,t),J.set(t,e)),t}const ne=e=>J.get(e);const re=["get","getKey","getAll","getAllKeys","count"],ie=["put","add","delete","clear"],se=new Map;function ae(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(se.get(t))return se.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!re.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return se.set(t,s),s}$=(e=>c(c({},e),{},{get:(t,n,r)=>ae(t,n)||e.get(t,n,r),has:(t,n)=>!!ae(t,n)||e.has(t,n)}))($);class oe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const le="@firebase/app",ce="0.9.13",ue=new H("@firebase/app"),he="@firebase/app-compat",de="@firebase/analytics-compat",fe="@firebase/analytics",pe="@firebase/app-check-compat",me="@firebase/app-check",ge="@firebase/auth",ve="@firebase/auth-compat",ye="@firebase/database",be="@firebase/database-compat",we="@firebase/functions",xe="@firebase/functions-compat",Ee="@firebase/installations",ke="@firebase/installations-compat",_e="@firebase/messaging",Se="@firebase/messaging-compat",Te="@firebase/performance",Ie="@firebase/performance-compat",Ne="@firebase/remote-config",Ce="@firebase/remote-config-compat",Ae="@firebase/storage",Re="@firebase/storage-compat",De="@firebase/firestore",Fe="@firebase/firestore-compat",Oe="firebase",Pe="[DEFAULT]",je={[le]:"fire-core",[he]:"fire-core-compat",[fe]:"fire-analytics",[de]:"fire-analytics-compat",[me]:"fire-app-check",[pe]:"fire-app-check-compat",[ge]:"fire-auth",[ve]:"fire-auth-compat",[ye]:"fire-rtdb",[be]:"fire-rtdb-compat",[we]:"fire-fn",[xe]:"fire-fn-compat",[Ee]:"fire-iid",[ke]:"fire-iid-compat",[_e]:"fire-fcm",[Se]:"fire-fcm-compat",[Te]:"fire-perf",[Ie]:"fire-perf-compat",[Ne]:"fire-rc",[Ce]:"fire-rc-compat",[Ae]:"fire-gcs",[Re]:"fire-gcs-compat",[De]:"fire-fst",[Fe]:"fire-fst-compat","fire-js":"fire-js",[Oe]:"fire-js-all"},Le=new Map,Me=new Map;function Ue(e,t){try{e.container.addComponent(t)}catch(n){ue.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ve(e){const t=e.name;if(Me.has(t))return ue.debug("There were multiple attempts to register component ".concat(t,".")),!1;Me.set(t,e);for(const n of Le.values())Ue(n,e);return!0}function ze(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Be=new _("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new O("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Be.create("app-deleted",{appName:this._name})}}const He="9.23.0";function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Be.create("bad-app-name",{appName:String(i)});if(n||(n=y()),!n)throw Be.create("no-options");const s=Le.get(i);if(s){if(T(n,s.options)&&T(r,s.config))return s;throw Be.create("duplicate-app",{appName:i})}const a=new L(i);for(const l of Me.values())a.addComponent(l);const o=new qe(n,r,a);return Le.set(i,o),o}function We(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;const t=Le.get(e);if(!t&&e===Pe&&y())return Ke();if(!t)throw Be.create("no-app",{appName:e});return t}function Ge(e,t,n){var r;let i=null!==(r=je[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ue.warn(e.join(" "))}Ve(new O("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Qe="firebase-heartbeat-store";let Ye=null;function Xe(){return Ye||(Ye=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=te(a);return r&&a.addEventListener("upgradeneeded",e=>{r(te(a.result),e.oldVersion,e.newVersion,te(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Qe)}}).catch(e=>{throw Be.create("idb-open",{originalErrorMessage:e.message})})),Ye}async function Je(e,t){try{const n=(await Xe()).transaction(Qe,"readwrite"),r=n.objectStore(Qe);await r.put(t,$e(e)),await n.done}catch(n){if(n instanceof k)ue.warn(n.message);else{const e=Be.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ue.warn(e.message)}}}function $e(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ze{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=et();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=et(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),nt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=f(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function et(){return(new Date).toISOString().substring(0,10)}class tt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!E()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Xe();return await t.transaction(Qe).objectStore(Qe).get($e(e))}catch(t){if(t instanceof k)ue.warn(t.message);else{const e=Be.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ue.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Je(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Je(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nt(e){return f(JSON.stringify({version:2,heartbeats:e})).length}var rt;rt="",Ve(new O("platform-logger",e=>new oe(e),"PRIVATE")),Ve(new O("heartbeat",e=>new Ze(e),"PRIVATE")),Ge(le,ce,rt),Ge(le,ce,"esm2017"),Ge("fire-js","");Ge("firebase","9.23.0","app");function it(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const at=st,ot=new _("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new H("@firebase/auth");function ct(e){if(lt.logLevel<=U.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lt.error("Auth (".concat(He,"): ").concat(e),...n)}}function ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ft(e,...n)}function ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ft(e,...n)}function dt(e,t,n){const r=Object.assign(Object.assign({},at()),{[t]:n});return new _("auth","Firebase",r).create(t,{appName:e.name})}function ft(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ot.create(e,...n)}function pt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ft(t,...r)}}function mt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ct(t),new Error(t)}function gt(e,t){e||mt(t)}function vt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yt(){return"http:"===bt()||"https:"===bt()}function bt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function wt(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yt()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class xt{constructor(e,t){this.shortDelay=e,this.longDelay=t,gt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return wt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Et(e,t){gt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class kt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},St=new xt(3e4,6e4);function Tt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function It(e,t,n,r){return Nt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=N(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),kt.fetch()(At(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function Nt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},_t),t);try{const t=new Rt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Dt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Dt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Dt(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Dt(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw dt(e,o,a);ut(e,o)}}catch(i){if(i instanceof k)throw i;ut(e,"network-request-failed",{message:String(i)})}}async function Ct(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await It(e,t,n,r,i);return"mfaPendingCredential"in s&&ut(e,"multi-factor-auth-required",{_serverResponse:s}),s}function At(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Et(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Rt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ht(this.auth,"network-request-failed")),St.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ht(e,t,r);return i.customData._tokenResponse=n,i}function Ft(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Ot(e){return 1e3*Number(e)}function Pt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const e=p(n);return e?JSON.parse(e):(ct("Failed to decode base64 JWT payload"),null)}catch(i){return ct("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function jt(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof k&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Lt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Mt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ft(this.lastLoginAt),this.creationTime=Ft(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ut(e){var t;const n=e.auth,r=await e.getIdToken(),i=await jt(e,async function(e,t){return It(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));pt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=it(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Mt(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt("undefined"!==typeof e.idToken,"internal-error"),pt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Pt(e);return pt(t,"internal-error"),pt("undefined"!==typeof t.exp,"internal-error"),pt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return pt(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Nt(e,{},async()=>{const n=N({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=At(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kt.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Vt;return n&&(pt("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(pt("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(pt("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vt,this.toJSON())}_performRefresh(){return mt("not implemented")}}function zt(e,t){pt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Bt{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=it(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Mt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await jt(this,this.stsTokenManager.getToken(this.auth,e));return pt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=F(e),r=await n.getIdToken(t),i=Pt(r);pt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ft(Ot(i.auth_time)),issuedAtTime:Ft(Ot(i.iat)),expirationTime:Ft(Ot(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=F(e);await Ut(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ut(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await jt(this,async function(e,t){return It(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:E}=t;pt(y&&E,e,"internal-error");const k=Vt.fromJSON(this.name,E);pt("string"===typeof y,e,"internal-error"),zt(u,e.name),zt(h,e.name),pt("boolean"===typeof b,e,"internal-error"),pt("boolean"===typeof w,e,"internal-error"),zt(d,e.name),zt(f,e.name),zt(p,e.name),zt(m,e.name),zt(g,e.name),zt(v,e.name);const _=new Bt({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(_.providerData=x.map(e=>Object.assign({},e))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Vt;r.updateFromServerResponse(t);const i=new Bt({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ut(i),i}}const qt=new Map;function Ht(e){gt(e instanceof Function,"Expected a class definition");let t=qt.get(e);return t?(gt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qt.set(e,t),t)}class Kt{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Kt.type="NONE";const Wt=Kt;function Gt(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Qt{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Gt(this.userKey,r.apiKey,i),this.fullPersistenceKey=Gt("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Qt(Ht(Wt),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Ht(Wt);const s=Gt(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Bt._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new Qt(i,e,n)):new Qt(i,e,n)}}function Yt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zt(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tn(t))return"Blackberry";if(nn(t))return"Webos";if(Jt(t))return"Safari";if((t.includes("chrome/")||$t(t))&&!t.includes("edge/"))return"Chrome";if(en(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/firefox\//i.test(e)}function Jt(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:x()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/crios\//i.test(e)}function Zt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/iemobile/i.test(e)}function en(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/android/i.test(e)}function tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/blackberry/i.test(e)}function nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/webos/i.test(e)}function rn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function sn(){return function(){const e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function an(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return rn(e)||en(e)||nn(e)||tn(e)||/windows phone/i.test(e)||Zt(e)}function on(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Yt(x());break;case"Worker":t="".concat(Yt(x()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(He,"/").concat(r)}async function ln(e,t){return It(e,"GET","/v2/recaptchaConfig",Tt(e,t))}function cn(e){return void 0!==e&&void 0!==e.enterprise}class un{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function hn(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ht("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function dn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class fn{constructor(e){this.type="recaptcha-enterprise",this.auth=vn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;cn(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ln(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new un(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&cn(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));hn("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function pn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new fn(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class mn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class gn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yn(this),this.idTokenSubscription=new yn(this),this.beforeStateQueue=new mn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ht(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Qt.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ut(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?F(e):null;return t&&pt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ht(e))})}async initializeRecaptchaConfig(){const e=await ln(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new un(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new fn(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ht(e)||this._popupRedirectResolver;pt(t,this,"argument-error"),this.redirectPersistenceManager=await Qt.create(this,[Ht(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return pt(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=on(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(lt.logLevel<=U.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lt.warn("Auth (".concat(He,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function vn(e){return F(e)}class yn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new R(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bn(e,t,n){const r=vn(e);pt(r._canInitEmulator,r,"emulator-config-failed"),pt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=wn(t),{host:a,port:o}=function(e){const t=wn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:xn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:xn(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function wn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class En{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mt("not implemented")}_getIdTokenResponse(e){return mt("not implemented")}_linkToIdToken(e,t){return mt("not implemented")}_getReauthenticationResolver(e){return mt("not implemented")}}async function kn(e,t){return It(e,"POST","/v1/accounts:update",t)}async function _n(e,t){return Ct(e,"POST","/v1/accounts:signInWithPassword",Tt(e,t))}class Sn extends En{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Sn(e,t,"password")}static _fromEmailAndCode(e,t){return new Sn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await pn(e,n,"signInWithPassword");return _n(e,t)}return _n(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await pn(e,n,"signInWithPassword");return _n(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return Ct(e,"POST","/v1/accounts:signInWithEmailLink",Tt(e,t))}(e,{email:this._email,oobCode:this._password});default:ut(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return kn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ct(e,"POST","/v1/accounts:signInWithEmailLink",Tt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ut(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Tn(e,t){return Ct(e,"POST","/v1/accounts:signInWithIdp",Tt(e,t))}class In extends En{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new In(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ut("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=it(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new In(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Tn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=N(t)}return e}}const Nn={USER_NOT_FOUND:"user-not-found"};class Cn extends En{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Cn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Cn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ct(e,"POST","/v1/accounts:signInWithPhoneNumber",Tt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ct(e,"POST","/v1/accounts:signInWithPhoneNumber",Tt(e,t));if(n.temporaryProof)throw Dt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ct(e,"POST","/v1/accounts:signInWithPhoneNumber",Tt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Nn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Cn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class An{constructor(e){var t,n,r,i,s,a;const o=C(A(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);pt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=C(A(e)).link,n=t?C(A(t)).deep_link_id:null,r=C(A(e)).deep_link_id;return(r?C(A(r)).link:null)||r||n||t||e}(e);try{return new An(t)}catch(n){return null}}}class Rn{constructor(){this.providerId=Rn.PROVIDER_ID}static credential(e,t){return Sn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=An.parseLink(t);return pt(n,"argument-error"),Sn._fromEmailAndCode(e,n.code,n.tenantId)}}Rn.PROVIDER_ID="password",Rn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Rn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Dn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fn extends Dn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class On extends Fn{constructor(){super("facebook.com")}static credential(e){return In._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return On.credentialFromTaggedObject(e)}static credentialFromError(e){return On.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return On.credential(t.oauthAccessToken)}catch(n){return null}}}On.FACEBOOK_SIGN_IN_METHOD="facebook.com",On.PROVIDER_ID="facebook.com";class Pn extends Fn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return In._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Pn.credential(n,r)}catch(i){return null}}}Pn.GOOGLE_SIGN_IN_METHOD="google.com",Pn.PROVIDER_ID="google.com";class jn extends Fn{constructor(){super("github.com")}static credential(e){return In._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return jn.credential(t.oauthAccessToken)}catch(n){return null}}}jn.GITHUB_SIGN_IN_METHOD="github.com",jn.PROVIDER_ID="github.com";class Ln extends Fn{constructor(){super("twitter.com")}static credential(e,t){return In._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ln.credentialFromTaggedObject(e)}static credentialFromError(e){return Ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ln.credential(n,r)}catch(i){return null}}}async function Mn(e,t){return Ct(e,"POST","/v1/accounts:signUp",Tt(e,t))}Ln.TWITTER_SIGN_IN_METHOD="twitter.com",Ln.PROVIDER_ID="twitter.com";class Un{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Bt._fromIdTokenResponse(e,n,r),s=Vn(n);return new Un({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Vn(n);return new Un({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Vn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class zn extends k{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,zn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new zn(e,t,n,r)}}function Bn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw zn._fromErrorAndOperation(e,n,t,r);throw n})}async function qn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await jt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Un._forOperation(e,"link",r)}async function Hn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await jt(e,Bn(r,i,t,e),n);pt(s.idToken,r,"internal-error");const a=Pt(s.idToken);pt(a,r,"internal-error");const{sub:o}=a;return pt(e.uid===o,r,"user-mismatch"),Un._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&ut(r,"user-mismatch"),s}}async function Kn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Bn(e,r,t),s=await Un._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Wn(e,t){const n=vn(e),r=await async function(e,t){return Ct(e,"POST","/v1/accounts:signInWithCustomToken",Tt(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Un._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}new WeakMap;const Gn="__sak";class Qn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gn,"1"),this.storage.removeItem(Gn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Yn extends Qn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=x();return Jt(e)||rn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=an(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);sn()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yn.type="LOCAL";const Xn=Yn;class Jn extends Qn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jn.type="SESSION";const $n=Jn;class Zn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Zn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zn.receivers=[];class tr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=er("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function nr(){return window}function rr(){return"undefined"!==typeof nr().WorkerGlobalScope&&"function"===typeof nr().importScripts}const ir="firebaseLocalStorageDb",sr="firebaseLocalStorage",ar="fbase_key";class or{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function lr(e,t){return e.transaction([sr],t?"readwrite":"readonly").objectStore(sr)}function cr(){const e=indexedDB.open(ir,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(sr,{keyPath:ar})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(sr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ir);return new or(e).toPromise()}(),t(await cr()))})})}async function ur(e,t,n){const r=lr(e,!0).put({[ar]:t,value:n});return new or(r).toPromise()}function hr(e,t){const n=lr(e,!0).delete(t);return new or(n).toPromise()}class dr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await cr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zn._getInstance(rr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new tr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cr();return await ur(e,Gn,"1"),await hr(e,Gn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ur(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=lr(e,!1).get(t),r=await new or(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=lr(e,!1).getAll();return new or(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}dr.type="LOCAL";const fr=dr;dn("rcb"),new xt(3e4,6e4);const pr="recaptcha";async function mr(e,t,n){var r;const i=await n.verify();try{let s;if(pt("string"===typeof i,e,"argument-error"),pt(n.type===pr,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){pt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return It(e,"POST","/v2/accounts/mfaEnrollment:start",Tt(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{pt("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;pt(n,e,"missing-multi-factor-info");const a=await function(e,t){return It(e,"POST","/v2/accounts/mfaSignIn:start",Tt(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return It(e,"POST","/v1/accounts:sendVerificationCode",Tt(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class gr{constructor(e){this.providerId=gr.PROVIDER_ID,this.auth=vn(e)}verifyPhoneNumber(e,t){return mr(this.auth,e,F(t))}static credential(e,t){return Cn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return gr.credentialFromTaggedObject(t)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Cn._fromTokenResponse(n,r):null}}function vr(e,t){return t?Ht(t):(pt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gr.PROVIDER_ID="phone",gr.PHONE_SIGN_IN_METHOD="phone";class yr extends En{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function br(e){return Kn(e.auth,new yr(e),e.bypassAuthState)}function wr(e){const{auth:t,user:n}=e;return pt(n,t,"internal-error"),Hn(n,new yr(e),e.bypassAuthState)}async function xr(e){const{auth:t,user:n}=e;return pt(n,t,"internal-error"),qn(n,new yr(e),e.bypassAuthState)}class Er{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return br;case"linkViaPopup":case"linkViaRedirect":return xr;case"reauthViaPopup":case"reauthViaRedirect":return wr;default:ut(this.auth,"internal-error")}}resolve(e){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kr=new xt(2e3,1e4);class _r extends Er{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,_r.currentPopupAction&&_r.currentPopupAction.cancel(),_r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){gt(1===this.filter.length,"Popup operations only handle one event");const e=er();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ht(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ht(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ht(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,kr.get())};e()}}_r.currentPopupAction=null;const Sr=new Map;class Tr extends Er{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Sr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Cr(t),r=Nr(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Sr.set(this.auth._key(),e)}return this.bypassAuthState||Sr.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ir(e,t){Sr.set(e._key(),t)}function Nr(e){return Ht(e._redirectPersistence)}function Cr(e){return Gt("pendingRedirect",e.config.apiKey,e.name)}async function Ar(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=vn(e),i=vr(r,t),s=new Tr(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Rr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Fr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ht(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dr(e))}saveEventToCache(e){this.cachedEventUids.add(Dr(e)),this.lastProcessedEventTime=Date.now()}}function Dr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Fr(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Or=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pr=/^https?/;async function jr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return It(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Lr(r))return}catch(n){}ut(e,"unauthorized-domain")}function Lr(e){const t=vt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Pr.test(n))return!1;if(Or.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Mr=new xt(3e4,6e4);function Ur(){const e=nr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Vr=null;function zr(e){return Vr=Vr||function(e){return new Promise((t,n)=>{var r,i,s;function a(){Ur(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ur(),n(ht(e,"network-request-failed"))},timeout:Mr.get()})}if(null===(i=null===(r=nr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=nr().gapi)||void 0===s?void 0:s.load)){const t=dn("iframefcb");return nr()[t]=()=>{gapi.load?a():n(ht(e,"network-request-failed"))},hn("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Vr=null,e})}(e),Vr}const Br=new xt(5e3,15e3),qr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kr(e){const t=e.config;pt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Et(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:He},i=Hr.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(N(r).slice(1))}const Wr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Qr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Wr),{width:r.toString(),height:i.toString(),top:s,left:a}),c=x().toLowerCase();n&&(o=$t(c)?"_blank":n),Xt(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return rn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:x())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Gr(null);const h=window.open(t||"",o,u);pt(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Gr(h)}const Yr="__/auth/handler",Xr="emulator/auth/handler",Jr=encodeURIComponent("fac");async function $r(e,t,n,r,i,s){pt(e.config.authDomain,e,"auth-domain-config-required"),pt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:He,eventId:i};if(t instanceof Dn){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Fn){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Jr,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Yr);return Et(t,Xr)}(e),"?").concat(N(o).slice(1)).concat(c)}const Zr="webStorageSupport";const ei=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$n,this._completeRedirectFn=Ar,this._overrideRedirectResult=Ir}async _openPopup(e,t,n,r){var i;gt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Qr(e,await $r(e,t,n,vt(),r),er())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){nr().location.href=e}(await $r(e,t,n,vt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(gt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await zr(e),n=nr().gapi;return pt(n,e,"internal-error"),t.open({where:document.body,url:Kr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qr,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ht(e,"network-request-failed"),s=nr().setTimeout(()=>{r(i)},Br.get());function a(){nr().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}(e),n=new Rr(e);return t.register("authEvent",t=>{pt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zr,{type:Zr},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Zr];void 0!==i&&t(!!i),ut(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jr(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return an()||Jt()||rn()}};var ti="@firebase/auth",ni="0.23.2";class ri{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ii=b("authIdTokenMaxAge")||300;let si=null;function ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();const t=ze(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ze(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(T(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ut(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ei,persistence:[fr,Xn,$n]}),r=b("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ii)return;const r=null===t||void 0===t?void 0:t.token;si!==r&&(si=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){F(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){F(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const s=v("auth");return s&&bn(n,"http://".concat(s)),n}var oi;oi="Browser",Ve(new O("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;pt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:oi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:on(oi)},c=new gn(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ht);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ve(new O("auth-internal",e=>(e=>new ri(e))(vn(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(ti,ni,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(oi)),Ge(ti,ni,"esm2017");var li,ci="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ui={},hi=hi||{},di=ci||self;function fi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var mi="closure_uid_"+(1e9*Math.random()>>>0),gi=0;function vi(e,t,n){return e.call.apply(e.bind,arguments)}function yi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function bi(e,t,n){return(bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vi:yi).apply(null,arguments)}function wi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function xi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ei(){this.s=this.s,this.o=this.o}Ei.prototype.s=!1,Ei.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,mi)&&e[mi]||(e[mi]=++gi))},Ei.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ki=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _i(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Si(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(fi(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ti(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ti.prototype.h=function(){this.defaultPrevented=!0};var Ii=function(){if(!di.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{di.addEventListener("test",()=>{},t),di.removeEventListener("test",()=>{},t)}catch(n){}return e}();function Ni(e){return/^[\s\xa0]*$/.test(e)}function Ci(){var e=di.navigator;return e&&(e=e.userAgent)?e:""}function Ai(e){return-1!=Ci().indexOf(e)}function Ri(e){return Ri[" "](e),e}Ri[" "]=function(){};var Di,Fi,Oi=Ai("Opera"),Pi=Ai("Trident")||Ai("MSIE"),ji=Ai("Edge"),Li=ji||Pi,Mi=Ai("Gecko")&&!(-1!=Ci().toLowerCase().indexOf("webkit")&&!Ai("Edge"))&&!(Ai("Trident")||Ai("MSIE"))&&!Ai("Edge"),Ui=-1!=Ci().toLowerCase().indexOf("webkit")&&!Ai("Edge");function Vi(){var e=di.document;return e?e.documentMode:void 0}e:{var zi="",Bi=function(){var e=Ci();return Mi?/rv:([^\);]+)(\)|;)/.exec(e):ji?/Edge\/([\d\.]+)/.exec(e):Pi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ui?/WebKit\/(\S+)/.exec(e):Oi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Bi&&(zi=Bi?Bi[1]:""),Pi){var qi=Vi();if(null!=qi&&qi>parseFloat(zi)){Di=String(qi);break e}}Di=zi}if(di.document&&Pi){var Hi=Vi();Fi=Hi||(parseInt(Di,10)||void 0)}else Fi=void 0;var Ki=Fi;function Wi(e,t){if(Ti.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Mi){e:{try{Ri(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Gi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wi.$.h.call(this)}}xi(Wi,Ti);var Gi={2:"touch",3:"pen",4:"mouse"};Wi.prototype.h=function(){Wi.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qi="closure_listenable_"+(1e6*Math.random()|0),Yi=0;function Xi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Yi,this.fa=this.ia=!1}function Ji(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function $i(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Zi(e){const t={};for(const n in e)t[n]=e[n];return t}const es="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ts(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<es.length;t++)n=es[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ns(e){this.src=e,this.g={},this.h=0}function rs(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ki(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ji(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function is(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}ns.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=is(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Xi(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var ss="closure_lm_"+(1e6*Math.random()|0),as={};function os(e,t,n,r,i){if(r&&r.once)return cs(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)os(e,t[s],n,r,i);return null}return n=gs(n),e&&e[Qi]?e.O(t,n,pi(r)?!!r.capture:!!r,i):ls(e,t,n,!1,r,i)}function ls(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=pi(i)?!!i.capture:!!i,o=ps(e);if(o||(e[ss]=o=new ns(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=fs;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ii||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ds(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cs(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)cs(e,t[s],n,r,i);return null}return n=gs(n),e&&e[Qi]?e.P(t,n,pi(r)?!!r.capture:!!r,i):ls(e,t,n,!0,r,i)}function us(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)us(e,t[s],n,r,i);else r=pi(r)?!!r.capture:!!r,n=gs(n),e&&e[Qi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=is(s=e.g[t],n,r,i))&&(Ji(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ps(e))&&(t=e.g[t.toString()],e=-1,t&&(e=is(t,n,r,i)),(n=-1<e?t[e]:null)&&hs(n))}function hs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Qi])rs(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ds(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ps(t))?(rs(n,e),0==n.h&&(n.src=null,t[ss]=null)):Ji(e)}}}function ds(e){return e in as?as[e]:as[e]="on"+e}function fs(e,t){if(e.fa)e=!0;else{t=new Wi(t,this);var n=e.listener,r=e.la||e.src;e.ia&&hs(e),e=n.call(r,t)}return e}function ps(e){return(e=e[ss])instanceof ns?e:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function gs(e){return"function"===typeof e?e:(e[ms]||(e[ms]=function(t){return e.handleEvent(t)}),e[ms])}function vs(){Ei.call(this),this.i=new ns(this),this.S=this,this.J=null}function ys(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ti(t,e);else if(t instanceof Ti)t.target=t.target||e;else{var i=t;ts(t=new Ti(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=bs(a,r,!0,t)&&i}if(i=bs(a=t.g=e,r,!0,t)&&i,i=bs(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=bs(a=t.g=n[s],r,!1,t)&&i}function bs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&rs(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}xi(vs,Ei),vs.prototype[Qi]=!0,vs.prototype.removeEventListener=function(e,t,n,r){us(this,e,t,n,r)},vs.prototype.N=function(){if(vs.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ji(n[r]);delete t.g[e],t.h--}}this.J=null},vs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},vs.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ws=di.JSON.stringify;function xs(){var e=Ns;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Es=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ks,e=>e.reset());class ks{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _s(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ss(e){di.setTimeout(()=>{throw e},0)}let Ts,Is=!1,Ns=new class{constructor(){this.h=this.g=null}add(e,t){const n=Es.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Cs=()=>{const e=di.Promise.resolve(void 0);Ts=()=>{e.then(As)}};var As=()=>{for(var e;e=xs();){try{e.h.call(e.g)}catch(n){Ss(n)}var t=Es;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Is=!1};function Rs(e,t){vs.call(this),this.h=e||1,this.g=t||di,this.j=bi(this.qb,this),this.l=Date.now()}function Ds(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Fs(e,t,n){if("function"===typeof e)n&&(e=bi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=bi(e.handleEvent,e)}return 2147483647<Number(t)?-1:di.setTimeout(e,t||0)}function Os(e){e.g=Fs(()=>{e.g=null,e.i&&(e.i=!1,Os(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}xi(Rs,vs),(li=Rs.prototype).ga=!1,li.T=null,li.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ys(this,"tick"),this.ga&&(Ds(this),this.start()))}},li.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},li.N=function(){Rs.$.N.call(this),Ds(this),delete this.g};class Ps extends Ei{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(di.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(e){Ei.call(this),this.h=e,this.g={}}xi(js,Ei);var Ls=[];function Ms(e,t,n,r){Array.isArray(n)||(n&&(Ls[0]=n.toString()),n=Ls);for(var i=0;i<n.length;i++){var s=os(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Us(e){$i(e.g,function(e,t){this.g.hasOwnProperty(t)&&hs(e)},e),e.g={}}function Vs(){this.g=!0}function zs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return ws(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}js.prototype.N=function(){js.$.N.call(this),Us(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vs.prototype.Ea=function(){this.g=!1},Vs.prototype.info=function(){};var Bs={},qs=null;function Hs(){return qs=qs||new vs}function Ks(e){Ti.call(this,Bs.Ta,e)}function Ws(e){const t=Hs();ys(t,new Ks(t))}function Gs(e,t){Ti.call(this,Bs.STAT_EVENT,e),this.stat=t}function Qs(e){const t=Hs();ys(t,new Gs(t,e))}function Ys(e,t){Ti.call(this,Bs.Ua,e),this.size=t}function Xs(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return di.setTimeout(function(){e()},t)}Bs.Ta="serverreachability",xi(Ks,Ti),Bs.STAT_EVENT="statevent",xi(Gs,Ti),Bs.Ua="timingevent",xi(Ys,Ti);var Js={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$s={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zs(){}function ea(e){return e.h||(e.h=e.i())}function ta(){}Zs.prototype.h=null;var na,ra={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ia(){Ti.call(this,"d")}function sa(){Ti.call(this,"c")}function aa(){}function oa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new js(this),this.P=ca,e=Li?125:void 0,this.V=new Rs(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new la}function la(){this.i=null,this.g="",this.h=!1}xi(ia,Ti),xi(sa,Ti),xi(aa,Zs),aa.prototype.g=function(){return new XMLHttpRequest},aa.prototype.i=function(){return{}},na=new aa;var ca=45e3,ua={},ha={};function da(e,t,n){e.L=1,e.v=Ra(Ta(t)),e.s=n,e.S=!0,fa(e,null)}function fa(e,t){e.G=Date.now(),va(e),e.A=Ta(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ha(n.i,"t",r),e.C=0,n=e.l.J,e.h=new la,e.g=Wo(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ps(bi(e.Pa,e,e.g),e.O)),Ms(e.U,e.g,"readystatechange",e.nb),t=e.I?Zi(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ws(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function pa(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ma(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=ga(e,n),r==ha){4==t&&(e.o=4,Qs(14),i=!1),zs(e.j,e.m,null,"[Incomplete Response]");break}if(r==ua){e.o=4,Qs(15),zs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}zs(e.j,e.m,r,null),Ea(e,r)}pa(e)&&r!=ha&&r!=ua&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mo(t),t.M=!0,Qs(11))):(zs(e.j,e.m,n,"[Invalid Chunked Response]"),xa(e),wa(e))}function ga(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ha:(n=Number(t.substring(n,r)),isNaN(n)?ua:(r+=1)+n>t.length?ha:(t=t.slice(r,r+n),e.C=r+n,t))}function va(e){e.Y=Date.now()+e.P,ya(e,e.P)}function ya(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Xs(bi(e.lb,e),t)}function ba(e){e.B&&(di.clearTimeout(e.B),e.B=null)}function wa(e){0==e.l.H||e.J||zo(e.l,e)}function xa(e){ba(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ds(e.V),Us(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ea(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ja(n.i,e)))if(!e.K&&Ja(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Vo(n),Ao(n)}Lo(n),Qs(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xs(bi(n.ib,n),6e3));if(1>=Xa(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else qo(n,11)}else if((e.K||n.g==e)&&Vo(n),!Ni(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&($a(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Aa(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Ko(r,r.J?r.pa:null,r.Y),a.K){Za(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(ba(o),va(o)),r.g=a}else jo(r);0<n.j.length&&Do(n)}else"stop"!=c[0]&&"close"!=c[0]||qo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?qo(n,7):Co(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ws()}catch(c){}}function ka(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(fi(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(fi(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(fi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(li=oa.prototype).setTimeout=function(e){this.P=e},li.nb=function(e){e=e.target;const t=this.M;t&&3==ko(e)?t.l():this.Pa(e)},li.Pa=function(e){try{if(e==this.g)e:{const u=ko(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Li||this.g&&(this.h.h||this.g.ja()||_o(this.g)))){this.J||4!=u||7==t||Ws(),ba(this);var n=this.g.da();this.ca=n;t:if(pa(this)){var r=_o(this.g);e="";var i=r.length,s=4==ko(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){xa(this),wa(this);var a="";break t}this.h.i=new di.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ni(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Qs(12),xa(this),wa(this);break e}zs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ea(this,n)}this.S?(ma(this,u,a),Li&&this.i&&3==u&&(Ms(this.U,this.V,"tick",this.mb),this.V.start())):(zs(this.j,this.m,a,null),Ea(this,a)),4==u&&xa(this),this.i&&!this.J&&(4==u?zo(this.l,this):(this.i=!1,va(this)))}else(function(e){const t={};e=(e.g&&2<=ko(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ni(e[r]))continue;var n=_s(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Qs(12)):(this.o=0,Qs(13)),xa(this),wa(this)}}}catch(u){}},li.mb=function(){if(this.g){var e=ko(this.g),t=this.g.ja();this.C<t.length&&(ba(this),ma(this,e,t),this.i&&4!=e&&va(this))}},li.cancel=function(){this.J=!0,xa(this)},li.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Ws(),Qs(17)),xa(this),this.o=2,wa(this)):ya(this,this.Y-e)};var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Sa){this.h=e.h,Ia(this,e.j),this.s=e.s,this.g=e.g,Na(this,e.m),this.l=e.l;var t=e.i,n=new Va;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ca(this,n),this.o=e.o}else e&&(t=String(e).match(_a))?(this.h=!1,Ia(this,t[1]||"",!0),this.s=Da(t[2]||""),this.g=Da(t[3]||"",!0),Na(this,t[4]),this.l=Da(t[5]||"",!0),Ca(this,t[6]||"",!0),this.o=Da(t[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}function Ta(e){return new Sa(e)}function Ia(e,t,n){e.j=n?Da(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Na(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ca(e,t,n){t instanceof Va?(e.i=t,function(e,t){t&&!e.j&&(za(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ba(this,t),Ha(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Fa(t,Ma)),e.i=new Va(t,e.h))}function Aa(e,t,n){e.i.set(t,n)}function Ra(e){return Aa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Da(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Fa(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Oa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Oa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Sa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Fa(t,Pa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Fa(t,Pa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Fa(n,"/"==n.charAt(0)?La:ja,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Fa(n,Ua)),e.join("")};var Pa=/[#\/\?@]/g,ja=/[#\?:]/g,La=/[#\?]/g,Ma=/[#\?@]/g,Ua=/#/g;function Va(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function za(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ba(e,t){za(e),t=Ka(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function qa(e,t){return za(e),t=Ka(e,t),e.g.has(t)}function Ha(e,t,n){Ba(e,t),0<n.length&&(e.i=null,e.g.set(Ka(e,t),_i(n)),e.h+=n.length)}function Ka(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(li=Va.prototype).add=function(e,t){za(this),this.i=null,e=Ka(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},li.forEach=function(e,t){za(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},li.ta=function(){za(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},li.Z=function(e){za(this);let t=[];if("string"===typeof e)qa(this,e)&&(t=t.concat(this.g.get(Ka(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},li.set=function(e,t){return za(this),this.i=null,qa(this,e=Ka(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},li.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},li.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Wa=class{constructor(e,t){this.g=e,this.map=t}};function Ga(e){this.l=e||Qa,di.PerformanceNavigationTiming?e=0<(e=di.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(di.g&&di.g.Ka&&di.g.Ka()&&di.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qa=10;function Ya(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xa(e){return e.h?1:e.g?e.g.size:0}function Ja(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $a(e,t){e.g?e.g.add(t):e.h=t}function Za(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function eo(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return _i(e.i)}Ga.prototype.cancel=function(){if(this.i=eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var to,no=class{stringify(e){return di.JSON.stringify(e,void 0)}parse(e){return di.JSON.parse(e,void 0)}};function ro(){this.g=new no}function io(e,t,n){const r=n||"";try{ka(e,function(e,n){let i=e;pi(e)&&(i=ws(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function so(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function ao(e){this.l=e.fc||null,this.j=e.ob||!1}function oo(e,t){vs.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=lo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xi(ao,Zs),ao.prototype.g=function(){return new oo(this.l,this.j)},ao.prototype.i=(to={},function(){return to}),xi(oo,vs);var lo=0;function co(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function uo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ho(e)}function ho(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(li=oo.prototype).open=function(e,t){if(this.readyState!=lo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ho(this)},li.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||di).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},li.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uo(this)),this.readyState=lo},li.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof di.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;co(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},li.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?uo(this):ho(this),3==this.readyState&&co(this)}},li.Za=function(e){this.g&&(this.response=this.responseText=e,uo(this))},li.Ya=function(e){this.g&&(this.response=e,uo(this))},li.ka=function(){this.g&&uo(this)},li.setRequestHeader=function(e,t){this.v.append(e,t)},li.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},li.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(oo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fo=di.JSON.parse;function po(e){vs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mo,this.L=this.M=!1}xi(po,vs);var mo="",go=/^https?$/i,vo=["POST","PUT"];function yo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bo(e),xo(e)}function bo(e){e.F||(e.F=!0,ys(e,"complete"),ys(e,"error"))}function wo(e){if(e.h&&"undefined"!=typeof hi&&(!e.C[1]||4!=ko(e)||2!=e.da()))if(e.v&&4==ko(e))Fs(e.La,0,e);else if(ys(e,"readystatechange"),4==ko(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(_a)[1]||null;!i&&di.self&&di.self.location&&(i=di.self.location.protocol.slice(0,-1)),r=!go.test(i?i.toLowerCase():"")}n=r}if(n)ys(e,"complete"),ys(e,"success");else{e.m=6;try{var s=2<ko(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",bo(e)}}finally{xo(e)}}}function xo(e,t){if(e.g){Eo(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ys(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Eo(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(di.clearTimeout(e.A),e.A=null)}function ko(e){return e.g?e.g.readyState:0}function _o(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case mo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Cl){return null}}function So(e){let t="";return $i(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function To(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=So(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Aa(e,t,n))}function Io(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function No(e){this.Ga=0,this.j=[],this.l=new Vs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Io("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Io("baseRetryDelayMs",5e3,e),this.hb=Io("retryDelaySeedMs",1e4,e),this.eb=Io("forwardChannelMaxRetries",2,e),this.xa=Io("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ga(e&&e.concurrentRequestLimit),this.Ja=new ro,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Co(e){if(Ro(e),3==e.H){var t=e.W++,n=Ta(e.I);if(Aa(n,"SID",e.K),Aa(n,"RID",t),Aa(n,"TYPE","terminate"),Oo(e,n),(t=new oa(e,e.l,t)).L=2,t.v=Ra(Ta(n)),n=!1,di.navigator&&di.navigator.sendBeacon)try{n=di.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&di.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wo(t.l,null),t.g.ha(t.v)),t.G=Date.now(),va(t)}Ho(e)}function Ao(e){e.g&&(Mo(e),e.g.cancel(),e.g=null)}function Ro(e){Ao(e),e.u&&(di.clearTimeout(e.u),e.u=null),Vo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&di.clearTimeout(e.m),e.m=null)}function Do(e){if(!Ya(e.i)&&!e.m){e.m=!0;var t=e.Na;Ts||Cs(),Is||(Ts(),Is=!0),Ns.add(t,e),e.C=0}}function Fo(e,t){var n;n=t?t.m:e.W++;const r=Ta(e.I);Aa(r,"SID",e.K),Aa(r,"RID",n),Aa(r,"AID",e.V),Oo(e,r),e.o&&e.s&&To(r,e.o,e.s),n=new oa(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Po(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),$a(e.i,n),da(n,r,t)}function Oo(e,t){e.na&&$i(e.na,function(e,n){Aa(t,n,e)}),e.h&&ka({},function(e,n){Aa(t,n,e)})}function Po(e,t,n){n=Math.min(e.j.length,n);var r=e.h?bi(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{io(o,e,"req"+n+"_")}catch(Vl){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function jo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ts||Cs(),Is||(Ts(),Is=!0),Ns.add(t,e),e.A=0}}function Lo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Xs(bi(e.Ma,e),Bo(e,e.A)),e.A++,!0)}function Mo(e){null!=e.B&&(di.clearTimeout(e.B),e.B=null)}function Uo(e){e.g=new oa(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ta(e.wa);Aa(t,"RID","rpc"),Aa(t,"SID",e.K),Aa(t,"AID",e.V),Aa(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Aa(t,"TO",e.qa),Aa(t,"TYPE","xmlhttp"),Oo(e,t),e.o&&e.s&&To(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Ra(Ta(t)),n.s=null,n.S=!0,fa(n,e)}function Vo(e){null!=e.v&&(di.clearTimeout(e.v),e.v=null)}function zo(e,t){var n=null;if(e.g==t){Vo(e),Mo(e),e.g=null;var r=2}else{if(!Ja(e.i,t))return;n=t.F,Za(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ys(r=Hs(),new Ys(r,n)),Do(e)}else jo(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Xa(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Xs(bi(e.Na,e,t),Bo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Lo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:qo(e,5);break;case 4:qo(e,10);break;case 3:qo(e,6);break;default:qo(e,2)}}function Bo(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function qo(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=bi(e.pb,e);n||(n=new Sa("//www.google.com/images/cleardot.gif"),di.location&&"http"==di.location.protocol||Ia(n,"https"),Ra(n)),function(e,t){const n=new Vs;if(di.Image){const r=new Image;r.onload=wi(so,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wi(so,n,r,"TestLoadImage: error",!1,t),r.onabort=wi(so,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wi(so,n,r,"TestLoadImage: timeout",!1,t),di.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qs(2);e.H=0,e.h&&e.h.za(t),Ho(e),Ro(e)}function Ho(e){if(e.H=0,e.ma=[],e.h){const t=eo(e.i);0==t.length&&0==e.j.length||(Si(e.ma,t),Si(e.ma,e.j),e.i.i.length=0,_i(e.j),e.j.length=0),e.h.ya()}}function Ko(e,t,n){var r=n instanceof Sa?Ta(n):new Sa(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Na(r,r.m);else{var i=di.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Sa(null);r&&Ia(s,r),t&&(s.g=t),i&&Na(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Aa(r,n,t),Aa(r,"VER",e.ra),Oo(e,r),r}function Wo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new po(new ao({ob:!0})):new po(e.va)).Oa(e.J),t}function Go(){}function Qo(){if(Pi&&!(10<=Number(Ki)))throw Error("Environmental error: no available transport.")}function Yo(e,t){vs.call(this),this.g=new No(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ni(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ni(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new $o(this)}function Xo(e){ia.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Jo(){sa.call(this),this.status=1}function $o(e){this.g=e}function Zo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function el(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function tl(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(li=po.prototype).Oa=function(e){this.M=e},li.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():na.g(),this.C=this.u?ea(this.u):ea(na),this.g.onreadystatechange=bi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void yo(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=di.FormData&&e instanceof di.FormData,!(0<=ki(vo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Eo(this),0<this.B&&((this.L=function(e){return Pi&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bi(this.ua,this)):this.A=Fs(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){yo(this,s)}},li.ua=function(){"undefined"!=typeof hi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ys(this,"timeout"),this.abort(8))},li.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ys(this,"complete"),ys(this,"abort"),xo(this))},li.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xo(this,!0)),po.$.N.call(this)},li.La=function(){this.s||(this.G||this.v||this.l?wo(this):this.kb())},li.kb=function(){wo(this)},li.isActive=function(){return!!this.g},li.da=function(){try{return 2<ko(this)?this.g.status:-1}catch(to){return-1}},li.ja=function(){try{return this.g?this.g.responseText:""}catch(to){return""}},li.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fo(t)}},li.Ia=function(){return this.m},li.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(li=No.prototype).ra=8,li.H=1,li.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new oa(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Zi(s),ts(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Po(this,i,t),Aa(n=Ta(this.I),"RID",e),Aa(n,"CVER",22),this.F&&Aa(n,"X-HTTP-Session-Id",this.F),Oo(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(So(s)))+"&"+t:this.o&&To(n,this.o,s)),$a(this.i,i),this.bb&&Aa(n,"TYPE","init"),this.P?(Aa(n,"$req",t),Aa(n,"SID","null"),i.aa=!0,da(i,n,null)):da(i,n,t),this.H=2}}else 3==this.H&&(e?Fo(this,e):0==this.j.length||Ya(this.i)||Fo(this))},li.Ma=function(){if(this.u=null,Uo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Xs(bi(this.jb,this),e)}},li.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qs(10),Ao(this),Uo(this))},li.ib=function(){null!=this.v&&(this.v=null,Ao(this),Lo(this),Qs(19))},li.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Qs(2)):(this.l.info("Failed to ping google.com"),Qs(1))},li.isActive=function(){return!!this.h&&this.h.isActive(this)},(li=Go.prototype).Ba=function(){},li.Aa=function(){},li.za=function(){},li.ya=function(){},li.isActive=function(){return!0},li.Va=function(){},Qo.prototype.g=function(e,t){return new Yo(e,t)},xi(Yo,vs),Yo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Qs(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ko(e,null,e.Y),Do(e)},Yo.prototype.close=function(){Co(this.g)},Yo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ws(e),e=n);t.j.push(new Wa(t.fb++,e)),3==t.H&&Do(t)},Yo.prototype.N=function(){this.g.h=null,delete this.j,Co(this.g),delete this.g,Yo.$.N.call(this)},xi(Xo,ia),xi(Jo,sa),xi($o,Go),$o.prototype.Ba=function(){ys(this.g,"a")},$o.prototype.Aa=function(e){ys(this.g,new Xo(e))},$o.prototype.za=function(e){ys(this.g,new Jo)},$o.prototype.ya=function(){ys(this.g,"b")},xi(Zo,function(){this.blockSize=-1}),Zo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zo.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)el(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){el(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){el(this,r),i=0;break}}this.h=i,this.i+=t},Zo.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var nl={};function rl(e){return-128<=e&&128>e?function(e,t){var n=nl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new tl([0|e],0>e?-1:0)}):new tl([0|e],0>e?-1:0)}function il(e){if(isNaN(e)||!isFinite(e))return al;if(0>e)return hl(il(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=sl;return new tl(t,0)}var sl=4294967296,al=rl(0),ol=rl(1),ll=rl(16777216);function cl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ul(e){return-1==e.h}function hl(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new tl(n,~e.h).add(ol)}function dl(e,t){return e.add(hl(t))}function fl(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function pl(e,t){this.g=e,this.h=t}function ml(e,t){if(cl(t))throw Error("division by zero");if(cl(e))return new pl(al,al);if(ul(e))return t=ml(hl(e),t),new pl(hl(t.g),hl(t.h));if(ul(t))return t=ml(e,hl(t)),new pl(hl(t.g),t.h);if(30<e.g.length){if(ul(e)||ul(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ol,r=t;0>=r.X(e);)n=gl(n),r=gl(r);var i=vl(n,1),s=vl(r,1);for(r=vl(r,2),n=vl(n,2);!cl(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=vl(r,1),n=vl(n,1)}return t=dl(e,i.R(t)),new pl(i,t)}for(i=al;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=il(n)).R(t);ul(a)||0<a.X(e);)a=(s=il(n-=r)).R(t);cl(s)&&(s=ol),i=i.add(s),e=dl(e,a)}return new pl(i,e)}function gl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new tl(n,e.h)}function vl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new tl(i,e.h)}(li=tl.prototype).ea=function(){if(ul(this))return-hl(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:sl+r)*t,t*=sl}return e},li.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(cl(this))return"0";if(ul(this))return"-"+hl(this).toString(e);for(var t=il(Math.pow(e,6)),n=this,r="";;){var i=ml(n,t).g,s=((0<(n=dl(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(cl(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},li.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},li.X=function(e){return ul(e=dl(this,e))?-1:cl(e)?0:1},li.abs=function(){return ul(this)?hl(this):this},li.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new tl(n,-2147483648&n[n.length-1]?-1:0)},li.R=function(e){if(cl(this)||cl(e))return al;if(ul(this))return ul(e)?hl(this).R(hl(e)):hl(hl(this).R(e));if(ul(e))return hl(this.R(hl(e)));if(0>this.X(ll)&&0>e.X(ll))return il(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,fl(n,2*r+2*i),n[2*r+2*i+1]+=s*l,fl(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,fl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,fl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new tl(n,0)},li.gb=function(e){return ml(this,e).h},li.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new tl(n,this.h&e.h)},li.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new tl(n,this.h|e.h)},li.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new tl(n,this.h^e.h)},Qo.prototype.createWebChannel=Qo.prototype.g,Yo.prototype.send=Yo.prototype.u,Yo.prototype.open=Yo.prototype.m,Yo.prototype.close=Yo.prototype.close,Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,$s.COMPLETE="complete",ta.EventType=ra,ra.OPEN="a",ra.CLOSE="b",ra.ERROR="c",ra.MESSAGE="d",vs.prototype.listen=vs.prototype.O,po.prototype.listenOnce=po.prototype.P,po.prototype.getLastError=po.prototype.Sa,po.prototype.getLastErrorCode=po.prototype.Ia,po.prototype.getStatus=po.prototype.da,po.prototype.getResponseJson=po.prototype.Wa,po.prototype.getResponseText=po.prototype.ja,po.prototype.send=po.prototype.ha,po.prototype.setWithCredentials=po.prototype.Oa,Zo.prototype.digest=Zo.prototype.l,Zo.prototype.reset=Zo.prototype.reset,Zo.prototype.update=Zo.prototype.j,tl.prototype.add=tl.prototype.add,tl.prototype.multiply=tl.prototype.R,tl.prototype.modulo=tl.prototype.gb,tl.prototype.compare=tl.prototype.X,tl.prototype.toNumber=tl.prototype.ea,tl.prototype.toString=tl.prototype.toString,tl.prototype.getBits=tl.prototype.D,tl.fromNumber=il,tl.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return hl(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=il(Math.pow(n,8)),i=al,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=il(Math.pow(n,a)),i=i.R(a).add(il(o))):i=(i=i.R(r)).add(il(o))}return i};var yl=ui.createWebChannelTransport=function(){return new Qo},bl=ui.getStatEventTarget=function(){return Hs()},wl=ui.ErrorCode=Js,xl=ui.EventType=$s,El=ui.Event=Bs,kl=ui.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_l=ui.FetchXmlHttpFactory=ao,Sl=ui.WebChannel=ta,Tl=ui.XhrIo=po,Il=ui.Md5=Zo,Nl=ui.Integer=tl;const Cl="@firebase/firestore";class Al{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Al.UNAUTHENTICATED=new Al(null),Al.GOOGLE_CREDENTIALS=new Al("google-credentials-uid"),Al.FIRST_PARTY=new Al("first-party-uid"),Al.MOCK_USER=new Al("mock-user");let Rl="9.23.0";const Dl=new H("@firebase/firestore");function Fl(){return Dl.logLevel}function Ol(e){if(Dl.logLevel<=U.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ll);Dl.debug("Firestore (".concat(Rl,"): ").concat(e),...i)}}function Pl(e){if(Dl.logLevel<=U.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ll);Dl.error("Firestore (".concat(Rl,"): ").concat(e),...i)}}function jl(e){if(Dl.logLevel<=U.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ll);Dl.warn("Firestore (".concat(Rl,"): ").concat(e),...i)}}function Ll(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ml(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Rl,") INTERNAL ASSERTION FAILED: ")+e;throw Pl(t),new Error(t)}function Ul(e,t){e||Ml()}function Vl(e,t){return e}const zl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bl extends k{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ql{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Hl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Kl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Al.UNAUTHENTICATED))}shutdown(){}}class Wl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gl{constructor(e){this.t=e,this.currentUser=Al.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ql;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ql,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Ol("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Ol("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ql)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ol("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ul("string"==typeof t.accessToken),new Hl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ul(null===e||"string"==typeof e),new Al(e)}}class Ql{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Al.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yl{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Ql(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Al.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Ol("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Ol("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ol("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Ol("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ul("string"==typeof e.token),this.T=e.token,new Xl(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $l(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Zl{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=$l(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ec(e,t){return e<t?-1:e>t?1:0}function tc(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class nc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bl(zl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bl(zl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bl(zl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bl(zl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nc.fromMillis(Date.now())}static fromDate(e){return nc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new nc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ec(this.nanoseconds,e.nanoseconds):ec(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rc(e)}static min(){return new rc(new nc(0,0))}static max(){return new rc(new nc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ic{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ml(),void 0===n?n=e.length-t:n>e.length-t&&Ml(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ic.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ic?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sc extends ic{construct(e,t,n){return new sc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Bl(zl.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new sc(e)}static emptyPath(){return new sc([])}}const ac=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oc extends ic{construct(e,t,n){return new oc(e,t,n)}static isValidIdentifier(e){return ac.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Bl(zl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Bl(zl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Bl(zl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Bl(zl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oc(t)}static emptyPath(){return new oc([])}}class lc{constructor(e){this.path=e}static fromPath(e){return new lc(sc.fromString(e))}static fromName(e){return new lc(sc.fromString(e).popFirst(5))}static empty(){return new lc(sc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lc(new sc(e.slice()))}}class cc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}cc.UNKNOWN_ID=-1;function uc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=rc.fromTimestamp(1e9===r?new nc(n+1,0):new nc(n,r));return new dc(i,lc.empty(),t)}function hc(e){return new dc(e.readTime,e.key,-1)}class dc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new dc(rc.min(),lc.empty(),-1)}static max(){return new dc(rc.max(),lc.empty(),-1)}}function fc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=lc.comparator(e.documentKey,t.documentKey),0!==n?n:ec(e.largestBatchId,t.largestBatchId))}const pc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function gc(e){if(e.code!==zl.FAILED_PRECONDITION||e.message!==pc)throw e;Ol("LocalStore","Unexpectedly lost primary lease")}class vc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ml(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vc((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof vc?t:vc.resolve(t)}catch(e){return vc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):vc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):vc.reject(t)}static resolve(e){return new vc((t,n)=>{t(e)})}static reject(e){return new vc((t,n)=>{n(e)})}static waitFor(e){return new vc((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=vc.resolve(!1);for(const n of e)t=t.next(e=>e?vc.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new vc((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new vc((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function yc(e){return"IndexedDbTransactionError"===e.name}class bc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function wc(e){return null==e}function xc(e){return 0===e&&1/e==-1/0}function Ec(e){return"number"==typeof e&&Number.isInteger(e)&&!xc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}bc.ct=-1;const kc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_c=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sc=_c;function Tc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ic(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Cc{constructor(e,t){this.comparator=e,this.root=t||Rc.EMPTY}insert(e,t){return new Cc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rc.BLACK,null,null))}remove(e){return new Cc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Rc.RED,this.left=null!=r?r:Rc.EMPTY,this.right=null!=i?i:Rc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Rc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Rc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Rc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ml();if(this.right.isRed())throw Ml();const e=this.left.check();if(e!==this.right.check())throw Ml();return e+(this.isRed()?0:1)}}Rc.EMPTY=null,Rc.RED=!0,Rc.BLACK=!1,Rc.EMPTY=new class{constructor(){this.size=0}get key(){throw Ml()}get value(){throw Ml()}get color(){throw Ml()}get left(){throw Ml()}get right(){throw Ml()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Rc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dc{constructor(e){this.comparator=e,this.data=new Cc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fc(this.data.getIterator())}getIteratorFrom(e){return new Fc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Dc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dc(this.comparator);return t.data=e,t}}class Fc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Oc{constructor(e){this.fields=e,e.sort(oc.comparator)}static empty(){return new Oc([])}unionWith(e){let t=new Dc(oc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Oc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Pc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Pc("Invalid base64 string: "+e):e}}(e);return new jc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new jc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ec(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jc.EMPTY_BYTE_STRING=new jc("");const Lc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mc(e){if(Ul(!!e),"string"==typeof e){let t=0;const n=Lc.exec(e);if(Ul(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Uc(e.seconds),nanos:Uc(e.nanos)}}function Uc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vc(e){return"string"==typeof e?jc.fromBase64String(e):jc.fromUint8Array(e)}function zc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bc(e){const t=e.mapValue.fields.__previous_value__;return zc(t)?Bc(t):t}function qc(e){const t=Mc(e.mapValue.fields.__local_write_time__.timestampValue);return new nc(t.seconds,t.nanos)}class Hc{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Kc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}const Wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zc(e)?4:au(e)?9007199254740991:10:Ml()}function Qc(e,t){if(e===t)return!0;const n=Gc(e);if(n!==Gc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qc(e).isEqual(qc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Mc(e.timestampValue),r=Mc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vc(e.bytesValue).isEqual(Vc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uc(e.geoPointValue.latitude)===Uc(t.geoPointValue.latitude)&&Uc(e.geoPointValue.longitude)===Uc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uc(e.integerValue)===Uc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Uc(e.doubleValue),r=Uc(t.doubleValue);return n===r?xc(n)===xc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return tc(e.arrayValue.values||[],t.arrayValue.values||[],Qc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Tc(n)!==Tc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qc(n[i],r[i])))return!1;return!0}(e,t);default:return Ml()}}function Yc(e,t){return void 0!==(e.values||[]).find(e=>Qc(e,t))}function Xc(e,t){if(e===t)return 0;const n=Gc(e),r=Gc(t);if(n!==r)return ec(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ec(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Uc(e.integerValue||e.doubleValue),r=Uc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Jc(e.timestampValue,t.timestampValue);case 4:return Jc(qc(e),qc(t));case 5:return ec(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Vc(e),r=Vc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ec(n[i],r[i]);if(0!==e)return e}return ec(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ec(Uc(e.latitude),Uc(t.latitude));return 0!==n?n:ec(Uc(e.longitude),Uc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Xc(n[i],r[i]);if(e)return e}return ec(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Wc.mapValue&&t===Wc.mapValue)return 0;if(e===Wc.mapValue)return 1;if(t===Wc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=ec(r[a],s[a]);if(0!==e)return e;const t=Xc(n[r[a]],i[s[a]]);if(0!==t)return t}return ec(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ml()}}function Jc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ec(e,t);const n=Mc(e),r=Mc(t),i=ec(n.seconds,r.seconds);return 0!==i?i:ec(n.nanos,r.nanos)}function $c(e){return Zc(e)}function Zc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Mc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,lc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Zc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Zc(e.fields[i]));return n+"}"}(e.mapValue):Ml();var t,n}function eu(e){return!!e&&"integerValue"in e}function tu(e){return!!e&&"arrayValue"in e}function nu(e){return!!e&&"nullValue"in e}function ru(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function iu(e){return!!e&&"mapValue"in e}function su(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ic(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=su(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=su(e.arrayValue.values[n]);return t}return Object.assign({},e)}function au(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ou{constructor(e){this.value=e}static empty(){return new ou({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!iu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=oc.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=su(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());iu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];iu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ic(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ou(su(this.value))}}function lu(e){const t=[];return Ic(e.fields,(e,n)=>{const r=new oc([e]);if(iu(n)){const e=lu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Oc(t)}class cu{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new cu(e,0,rc.min(),rc.min(),rc.min(),ou.empty(),0)}static newFoundDocument(e,t,n,r){return new cu(e,1,t,rc.min(),n,r,0)}static newNoDocument(e,t){return new cu(e,2,t,rc.min(),rc.min(),ou.empty(),0)}static newUnknownDocument(e,t){return new cu(e,3,t,rc.min(),rc.min(),ou.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ou.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ou.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class uu{constructor(e,t){this.position=e,this.inclusive=t}}function hu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?lc.comparator(lc.fromName(a.referenceValue),n.key):Xc(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function du(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Qc(e.position[n],t.position[n]))return!1;return!0}class fu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function pu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class mu{}class gu extends mu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new _u(e,t,n):"array-contains"===t?new Nu(e,n):"in"===t?new Cu(e,n):"not-in"===t?new Au(e,n):"array-contains-any"===t?new Ru(e,n):new gu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Su(e,n):new Tu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xc(t,this.value)):null!==t&&Gc(this.value)===Gc(t)&&this.matchesComparison(Xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ml()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vu extends mu{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new vu(e,t)}matches(e){return yu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function yu(e){return"and"===e.op}function bu(e){return wu(e)&&yu(e)}function wu(e){for(const t of e.filters)if(t instanceof vu)return!1;return!0}function xu(e){if(e instanceof gu)return e.field.canonicalString()+e.op.toString()+$c(e.value);if(bu(e))return e.filters.map(e=>xu(e)).join(",");{const t=e.filters.map(e=>xu(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Eu(e,t){return e instanceof gu?function(e,t){return t instanceof gu&&e.op===t.op&&e.field.isEqual(t.field)&&Qc(e.value,t.value)}(e,t):e instanceof vu?function(e,t){return t instanceof vu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Eu(n,t.filters[r]),!0)}(e,t):void Ml()}function ku(e){return e instanceof gu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat($c(e.value))}(e):e instanceof vu?function(e){return e.op.toString()+" {"+e.getFilters().map(ku).join(" ,")+"}"}(e):"Filter"}class _u extends gu{constructor(e,t,n){super(e,t,n),this.key=lc.fromName(n.referenceValue)}matches(e){const t=lc.comparator(e.key,this.key);return this.matchesComparison(t)}}class Su extends gu{constructor(e,t){super(e,"in",t),this.keys=Iu("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Tu extends gu{constructor(e,t){super(e,"not-in",t),this.keys=Iu("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Iu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>lc.fromName(e.referenceValue))}class Nu extends gu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tu(t)&&Yc(t.arrayValue,this.value)}}class Cu extends gu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yc(this.value.arrayValue,t)}}class Au extends gu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yc(this.value.arrayValue,t)}}class Ru extends gu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Yc(this.value.arrayValue,e))}}class Du{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function Fu(e){return new Du(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ou(e){const t=Vl(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>xu(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),wc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>$c(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>$c(e)).join(",")),t.dt=e}return t.dt}function Pu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Eu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!du(e.startAt,t.startAt)&&du(e.endAt,t.endAt)}function ju(e){return lc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Lu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function Mu(e,t,n,r,i,s,a,o){return new Lu(e,t,n,r,i,s,a,o)}function Uu(e){return new Lu(e)}function Vu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Bu(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function qu(e){return null!==e.collectionGroup}function Hu(e){const t=Vl(e);if(null===t.wt){t.wt=[];const e=Bu(t),n=zu(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new fu(e)),t.wt.push(new fu(oc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new fu(oc.keyField(),e))}}}return t.wt}function Ku(e){const t=Vl(e);if(!t._t)if("F"===t.limitType)t._t=Fu(t.path,t.collectionGroup,Hu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Hu(t)){const t="desc"===i.dir?"asc":"desc";e.push(new fu(i.field,t))}const n=t.endAt?new uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uu(t.startAt.position,t.startAt.inclusive):null;t._t=Fu(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Wu(e,t,n){return new Lu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gu(e,t){return Pu(Ku(e),Ku(t))&&e.limitType===t.limitType}function Qu(e){return"".concat(Ou(Ku(e)),"|lt:").concat(e.limitType)}function Yu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>ku(e)).join(", "),"]")),wc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>$c(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>$c(e)).join(",")),"Target(".concat(t,")")}(Ku(e)),"; limitType=").concat(e.limitType,")")}function Xu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):lc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Hu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=hu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hu(e),t))&&!(e.endAt&&!function(e,t,n){const r=hu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hu(e),t))}(e,t)}function Ju(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $u(e){return(t,n)=>{let r=!1;for(const i of Hu(e)){const e=Zu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Zu(e,t,n){const r=e.field.isKeyField()?lc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xc(r,i):Ml()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ml()}}class eh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ic(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Nc(this.inner)}size(){return this.innerSize}}const th=new Cc(lc.comparator);function nh(){return th}const rh=new Cc(lc.comparator);function ih(){let e=rh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function sh(e){let t=rh;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ah(){return lh()}function oh(){return lh()}function lh(){return new eh(e=>e.toString(),(e,t)=>e.isEqual(t))}const ch=new Cc(lc.comparator),uh=new Dc(lc.comparator);function hh(){let e=uh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const dh=new Dc(ec);function fh(){return dh}function ph(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(t)?"-0":t}}function mh(e){return{integerValue:""+e}}function gh(e,t){return Ec(t)?mh(t):ph(e,t)}class vh{constructor(){this._=void 0}}function yh(e,t,n){return e instanceof xh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&zc(t)&&(t=Bc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Eh?kh(e,t):e instanceof _h?Sh(e,t):function(e,t){const n=wh(e,t),r=Ih(n)+Ih(e.gt);return eu(n)&&eu(e.gt)?mh(r):ph(e.serializer,r)}(e,t)}function bh(e,t,n){return e instanceof Eh?kh(e,t):e instanceof _h?Sh(e,t):n}function wh(e,t){return e instanceof Th?eu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class xh extends vh{}class Eh extends vh{constructor(e){super(),this.elements=e}}function kh(e,t){const n=Nh(t);for(const r of e.elements)n.some(e=>Qc(e,r))||n.push(r);return{arrayValue:{values:n}}}class _h extends vh{constructor(e){super(),this.elements=e}}function Sh(e,t){let n=Nh(t);for(const r of e.elements)n=n.filter(e=>!Qc(e,r));return{arrayValue:{values:n}}}class Th extends vh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ih(e){return Uc(e.integerValue||e.doubleValue)}function Nh(e){return tu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ch{constructor(e,t){this.version=e,this.transformResults=t}}class Ah{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ah}static exists(e){return new Ah(void 0,e)}static updateTime(e){return new Ah(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Dh{}function Fh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qh(e.key,Ah.none()):new Mh(e.key,e.data,Ah.none());{const n=e.data,r=ou.empty();let i=new Dc(oc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Uh(e.key,r,new Oc(i.toArray()),Ah.none())}}function Oh(e,t,n){e instanceof Mh?function(e,t,n){const r=e.value.clone(),i=zh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Uh?function(e,t,n){if(!Rh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Vh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ph(e,t,n,r){return e instanceof Mh?function(e,t,n,r){if(!Rh(e.precondition,t))return n;const i=e.value.clone(),s=Bh(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Uh?function(e,t,n,r){if(!Rh(e.precondition,t))return n;const i=Bh(e.fieldTransforms,r,t),s=t.data;return s.setAll(Vh(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Rh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function jh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=wh(r.transform,e||null);null!=i&&(null===n&&(n=ou.empty()),n.set(r.field,i))}return n||null}function Lh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&tc(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Eh&&t instanceof Eh||e instanceof _h&&t instanceof _h?tc(e.elements,t.elements,Qc):e instanceof Th&&t instanceof Th?Qc(e.gt,t.gt):e instanceof xh&&t instanceof xh}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Mh extends Dh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Uh extends Dh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Vh(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zh(e,t,n){const r=new Map;Ul(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,bh(a,o,n[i]))}return r}function Bh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,yh(e,s,t))}return r}class qh extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hh extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Oh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ph(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ph(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=oh();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Fh(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(rc.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hh())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(e,t)=>Lh(e,t))&&tc(this.baseMutations,e.baseMutations,(e,t)=>Lh(e,t))}}class Wh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ul(e.mutations.length===n.length);let r=ch;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Wh(e,t,n,r)}}class Gh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Qh{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yh,Xh;function Jh(e){switch(e){default:return Ml();case zl.CANCELLED:case zl.UNKNOWN:case zl.DEADLINE_EXCEEDED:case zl.RESOURCE_EXHAUSTED:case zl.INTERNAL:case zl.UNAVAILABLE:case zl.UNAUTHENTICATED:return!1;case zl.INVALID_ARGUMENT:case zl.NOT_FOUND:case zl.ALREADY_EXISTS:case zl.PERMISSION_DENIED:case zl.FAILED_PRECONDITION:case zl.ABORTED:case zl.OUT_OF_RANGE:case zl.UNIMPLEMENTED:case zl.DATA_LOSS:return!0}}function $h(e){if(void 0===e)return Pl("GRPC error has no .code"),zl.UNKNOWN;switch(e){case Yh.OK:return zl.OK;case Yh.CANCELLED:return zl.CANCELLED;case Yh.UNKNOWN:return zl.UNKNOWN;case Yh.DEADLINE_EXCEEDED:return zl.DEADLINE_EXCEEDED;case Yh.RESOURCE_EXHAUSTED:return zl.RESOURCE_EXHAUSTED;case Yh.INTERNAL:return zl.INTERNAL;case Yh.UNAVAILABLE:return zl.UNAVAILABLE;case Yh.UNAUTHENTICATED:return zl.UNAUTHENTICATED;case Yh.INVALID_ARGUMENT:return zl.INVALID_ARGUMENT;case Yh.NOT_FOUND:return zl.NOT_FOUND;case Yh.ALREADY_EXISTS:return zl.ALREADY_EXISTS;case Yh.PERMISSION_DENIED:return zl.PERMISSION_DENIED;case Yh.FAILED_PRECONDITION:return zl.FAILED_PRECONDITION;case Yh.ABORTED:return zl.ABORTED;case Yh.OUT_OF_RANGE:return zl.OUT_OF_RANGE;case Yh.UNIMPLEMENTED:return zl.UNIMPLEMENTED;case Yh.DATA_LOSS:return zl.DATA_LOSS;default:return Ml()}}(Xh=Yh||(Yh={}))[Xh.OK=0]="OK",Xh[Xh.CANCELLED=1]="CANCELLED",Xh[Xh.UNKNOWN=2]="UNKNOWN",Xh[Xh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xh[Xh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xh[Xh.NOT_FOUND=5]="NOT_FOUND",Xh[Xh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xh[Xh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xh[Xh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xh[Xh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xh[Xh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xh[Xh.ABORTED=10]="ABORTED",Xh[Xh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xh[Xh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xh[Xh.INTERNAL=13]="INTERNAL",Xh[Xh.UNAVAILABLE=14]="UNAVAILABLE",Xh[Xh.DATA_LOSS=15]="DATA_LOSS";class Zh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ed}static getOrCreateInstance(){return null===ed&&(ed=new Zh),ed}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ed=null;function td(){return new TextEncoder}const nd=new Nl([4294967295,4294967295],0);function rd(e){const t=td().encode(e),n=new Il;return n.update(t),new Uint8Array(n.digest())}function id(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Nl([n,r],0),new Nl([i,s],0)]}class sd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ad("Invalid padding: ".concat(t));if(n<0)throw new ad("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ad("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ad("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Nl.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Nl.fromNumber(n)));return 1===r.compare(nd)&&(r=new Nl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=rd(e),[n,r]=id(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new sd(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=rd(e),[n,r]=id(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class od{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new od(rc.min(),r,new Cc(ec),nh(),hh())}}class ld{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ld(n,t,hh(),hh(),hh())}}class cd{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class ud{constructor(e,t){this.targetId=e,this.Vt=t}}class hd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class dd{constructor(){this.St=0,this.Dt=md(),this.Ct=jc.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=hh(),t=hh(),n=hh();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ml()}}),new ld(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=md()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class fd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=nh(),this.zt=pd(),this.Wt=new Cc(ec)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Ml()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(ju(s))if(0===r){const e=new lc(s.path);this.Yt(n,e,cu.newNoDocument(e,rc.min()))}else Ul(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Zh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=Vc(i).toUint8Array()}catch(e){if(e instanceof Pc)return jl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new sd(o,s,a)}catch(e){return jl(e instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&ju(i.target)){const t=new lc(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,cu.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=hh();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new od(e,t,this.Wt,this.jt,n);return this.jt=nh(),this.zt=pd(),this.Wt=new Cc(ec),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new dd,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Dc(ec),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ol("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new dd),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function pd(){return new Cc(lc.comparator)}function md(){return new Cc(lc.comparator)}const gd={asc:"ASCENDING",desc:"DESCENDING"},vd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yd={and:"AND",or:"OR"};class bd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wd(e,t){return e.useProto3Json||wc(t)?t:{value:t}}function xd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ed(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function kd(e,t){return xd(e,t.toTimestamp())}function _d(e){return Ul(!!e),rc.fromTimestamp(function(e){const t=Mc(e);return new nc(t.seconds,t.nanos)}(e))}function Sd(e,t){return function(e){return new sc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Td(e){const t=sc.fromString(e);return Ul(Wd(t)),t}function Id(e,t){return Sd(e.databaseId,t.path)}function Nd(e,t){const n=Td(t);if(n.get(1)!==e.databaseId.projectId)throw new Bl(zl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bl(zl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lc(Dd(n))}function Cd(e,t){return Sd(e.databaseId,t)}function Ad(e){const t=Td(e);return 4===t.length?sc.emptyPath():Dd(t)}function Rd(e){return new sc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dd(e){return Ul(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Fd(e,t,n){return{name:Id(e,t),fields:n.value.mapValue.fields}}function Od(e,t){let n;if(t instanceof Mh)n={update:Fd(e,t.key,t.value)};else if(t instanceof qh)n={delete:Id(e,t.key)};else if(t instanceof Uh)n={update:Fd(e,t.key,t.data),updateMask:Kd(t.fieldMask)};else{if(!(t instanceof Hh))return Ml();n={verify:Id(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof xh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _h)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Th)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Ml()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ml()}(e,t.precondition)),n}function Pd(e,t){return{documents:[Cd(e,t.path)]}}function jd(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Cd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Cd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Hd(vu.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Bd(e.field),direction:Ud(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=wd(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ld(e){let t=Ad(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ul(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Md(e);return t instanceof vu&&bu(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new fu(qd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,wc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new uu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new uu(n,t)}(n.endAt)),Mu(t,i,a,s,o,"F",l,c)}function Md(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qd(e.unaryFilter.field);return gu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qd(e.unaryFilter.field);return gu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qd(e.unaryFilter.field);return gu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qd(e.unaryFilter.field);return gu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ml()}}(e):void 0!==e.fieldFilter?function(e){return gu.create(qd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ml()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vu.create(e.compositeFilter.filters.map(e=>Md(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ml()}}(e.compositeFilter.op))}(e):Ml()}function Ud(e){return gd[e]}function Vd(e){return vd[e]}function zd(e){return yd[e]}function Bd(e){return{fieldPath:e.canonicalString()}}function qd(e){return oc.fromServerFormat(e.fieldPath)}function Hd(e){return e instanceof gu?function(e){if("=="===e.op){if(ru(e.value))return{unaryFilter:{field:Bd(e.field),op:"IS_NAN"}};if(nu(e.value))return{unaryFilter:{field:Bd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ru(e.value))return{unaryFilter:{field:Bd(e.field),op:"IS_NOT_NAN"}};if(nu(e.value))return{unaryFilter:{field:Bd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bd(e.field),op:Vd(e.op),value:e.value}}}(e):e instanceof vu?function(e){const t=e.getFilters().map(e=>Hd(e));return 1===t.length?t[0]:{compositeFilter:{op:zd(e.op),filters:t}}}(e):Ml()}function Kd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Wd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rc.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Gd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qd{constructor(e){this.fe=e}}function Yd(e){const t=Ld({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wu(t,t.limit,"L"):t}class Xd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Uc(e.integerValue));else if("doubleValue"in e){const n=Uc(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),xc(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Vc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?au(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ml()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),lc.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Xd.Ve=new Xd;class Jd{constructor(){this.rn=new $d}addToCollectionParentIndex(e,t){return this.rn.add(t),vc.resolve()}getCollectionParents(e,t){return vc.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return vc.resolve()}deleteFieldIndex(e,t){return vc.resolve()}getDocumentsMatchingTarget(e,t){return vc.resolve(null)}getIndexType(e,t){return vc.resolve(0)}getFieldIndexes(e,t){return vc.resolve([])}getNextCollectionGroupToUpdate(e){return vc.resolve(null)}getMinOffset(e,t){return vc.resolve(dc.min())}getMinOffsetFromCollectionGroup(e,t){return vc.resolve(dc.min())}updateCollectionGroup(e,t,n){return vc.resolve()}updateIndexEntries(e,t){return vc.resolve()}}class $d{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Dc(sc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Dc(sc.comparator)).toArray()}}new Uint8Array(0);class Zd{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Zd(e,Zd.DEFAULT_COLLECTION_PERCENTILE,Zd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Zd.DEFAULT_COLLECTION_PERCENTILE=10,Zd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zd.DEFAULT=new Zd(41943040,Zd.DEFAULT_COLLECTION_PERCENTILE,Zd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zd.DISABLED=new Zd(-1,0,0);class ef{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ef(0)}static Mn(){return new ef(-1)}}class tf{constructor(){this.changes=new eh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?vc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ph(n.mutation,e,Oc.empty(),nc.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,hh()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hh();const r=ah();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ih();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ah();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,hh()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=nh();const s=lh(),a=lh();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Uh)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Ph(a.mutation,t,a.mutation.getFieldMask(),nc.now())):s.set(t.key,Oc.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new nf(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=lh();let r=new Cc((e,t)=>e-t),i=hh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Oc.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||hh()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=oh();l.forEach(e=>{if(!i.has(e)){const r=Fh(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return vc.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return lc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):vc.resolve(ah());let a=-1,o=i;return s.next(t=>vc.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?vc.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,hh())).next(e=>({batchId:a,changes:sh(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lc(t)).next(e=>{let t=ih();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=ih();return this.indexManager.getCollectionParents(e,r).next(s=>vc.forEach(s,s=>{const a=function(e,t){return new Lu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,cu.newInvalidDocument(r)))});let n=ih();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&Ph(s.mutation,i,Oc.empty(),nc.now()),Xu(t,i)&&(n=n.insert(e,i))}),n})}}class sf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return vc.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:_d(n.createTime)}),vc.resolve()}getNamedQuery(e,t){return vc.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Yd(e.bundledQuery),readTime:_d(e.readTime)}}(t)),vc.resolve()}}class af{constructor(){this.overlays=new Cc(lc.comparator),this.ls=new Map}getOverlay(e,t){return vc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ah();return vc.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),vc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),vc.resolve()}getOverlaysForCollection(e,t,n){const r=ah(),i=t.length+1,s=new lc(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return vc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Cc((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ah(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ah(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return vc.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Gh(t,n));let i=this.ls.get(t);void 0===i&&(i=hh(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class of{constructor(){this.fs=new Dc(lf.ds),this.ws=new Dc(lf._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new lf(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new lf(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new lc(new sc([])),n=new lf(t,e),r=new lf(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new lc(new sc([])),n=new lf(t,e),r=new lf(t,e+1);let i=hh();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new lf(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class lf{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return lc.comparator(e.key,t.key)||ec(e.As,t.As)}static _s(e,t){return ec(e.As,t.As)||lc.comparator(e.key,t.key)}}class cf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Dc(lf.ds)}checkEmpty(e){return vc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Kh(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new lf(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return vc.resolve(s)}lookupMutationBatch(e,t){return vc.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return vc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return vc.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return vc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new lf(t,0),r=new lf(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),vc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Dc(ec);return t.forEach(e=>{const t=new lf(e,0),r=new lf(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),vc.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;lc.isDocumentKey(i)||(i=i.child(""));const s=new lf(new lc(i),0);let a=new Dc(ec);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},s),vc.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ul(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return vc.forEach(t.mutations,r=>{const i=new lf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new lf(t,0),r=this.Rs.firstAfterOrEqual(n);return vc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,vc.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uf{constructor(e){this.Ds=e,this.docs=new Cc(lc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return vc.resolve(n?n.document.mutableCopy():cu.newInvalidDocument(t))}getEntries(e,t){let n=nh();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cu.newInvalidDocument(e))}),vc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=nh();const s=t.path,a=new lc(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||fc(hc(a),n)<=0||(r.has(a.key)||Xu(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return vc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ml()}Cs(e,t){return vc.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new hf(this)}getSize(e){return vc.resolve(this.size)}}class hf extends tf{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),vc.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class df{constructor(e){this.persistence=e,this.xs=new eh(e=>Ou(e),Pu),this.lastRemoteSnapshotVersion=rc.min(),this.highestTargetId=0,this.Ns=0,this.ks=new of,this.targetCount=0,this.Ms=ef.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),vc.resolve()}getLastRemoteSnapshotVersion(e){return vc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vc.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),vc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),vc.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ef(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,vc.resolve()}updateTargetData(e,t){return this.Fn(t),vc.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,vc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),vc.waitFor(i).next(()=>r)}getTargetCount(e){return vc.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return vc.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),vc.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),vc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),vc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return vc.resolve(n)}containsKey(e,t){return vc.resolve(this.ks.containsKey(t))}}class ff{constructor(e,t){this.$s={},this.overlays={},this.Os=new bc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new df(this),this.indexManager=new Jd,this.remoteDocumentCache=function(e){return new uf(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Qd(t),this.qs=new sf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new af,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new cf(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Ol("MemoryPersistence","Starting transaction:",e);const r=new pf(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return vc.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class pf extends mc{constructor(e){super(),this.currentSequenceNumber=e}}class mf{constructor(e){this.persistence=e,this.Qs=new of,this.js=null}static zs(e){return new mf(e)}get Ws(){if(this.js)return this.js;throw Ml()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),vc.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),vc.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),vc.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vc.forEach(this.Ws,n=>{const r=lc.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,rc.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return vc.or([()=>vc.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class gf{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=hh(),r=hh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new gf(e,t.fromCache,n,r)}}class vf{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Vu(t))return vc.resolve(null);let n=Ku(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Wu(t,null,"F"),n=Ku(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=hh(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,Wu(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return Vu(t)||r.isEqual(rc.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(Fl()<=U.DEBUG&&Ol("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yu(t)),this.Wi(e,s,t,uc(r,-1)))})}ji(e,t){let n=new Dc($u(e));return t.forEach((t,r)=>{Xu(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Fl()<=U.DEBUG&&Ol("QueryEngine","Using full collection scan to execute query:",Yu(t)),this.Ui.getDocumentsMatchingQuery(e,t,dc.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class yf{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Cc(ec),this.Yi=new eh(e=>Ou(e),Pu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function bf(e,t,n,r){return new yf(e,t,n,r)}async function wf(e,t){const n=Vl(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=hh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function xf(e){const t=Vl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Ef(e,t,n){let r=hh(),i=hh();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=nh();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(rc.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ol("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{nr:r,sr:i}})}function kf(e,t){const n=Vl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function _f(e,t){const n=Vl(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,vc.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Gd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function Sf(e,t,n){const r=Vl(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!yc(e))throw e;Ol("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Tf(e,t,n){const r=Vl(e);let i=rc.min(),s=hh();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Vl(e),i=r.Yi.get(n);return void 0!==i?vc.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Ku(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:rc.min(),n?s:hh())).next(e=>(If(r,Ju(t),e),{documents:e,ir:s})))}function If(e,t,n){let r=e.Xi.get(t)||rc.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class Nf{constructor(){this.activeTargetIds=fh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cf{constructor(){this.Hr=new Nf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Nf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Af{Yr(e){}shutdown(){}}class Rf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ol("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ol("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Df=null;function Ff(){return null===Df?Df=268435456+Math.round(2147483648*Math.random()):Df++,"0x"+Df.toString(16)}const Of={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const jf="WebChannelConnection";class Lf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=Ff(),a=this.To(e,t);Ol("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then(t=>(Ol("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw jl("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Of[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Ff();return new Promise((s,a)=>{const o=new Tl;o.setWithCredentials(!0),o.listenOnce(xl.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case wl.NO_ERROR:const t=o.getResponseJson();Ol(jf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case wl.TIMEOUT:Ol(jf,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Bl(zl.DEADLINE_EXCEEDED,"Request time out"));break;case wl.HTTP_ERROR:const n=o.getStatus();if(Ol(jf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(zl).indexOf(t)>=0?t:zl.UNKNOWN}(t.status);a(new Bl(e,t.message))}else a(new Bl(zl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Bl(zl.UNAVAILABLE,"Connection failed."));break;default:Ml()}}finally{Ol(jf,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Ol(jf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Ff(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yl(),a=bl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new _l({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Ol(jf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new Pf({ro:t=>{d?Ol(jf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ol(jf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Ol(jf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Sl.EventType.OPEN,()=>{d||Ol(jf,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,Sl.EventType.CLOSE,()=>{d||(d=!0,Ol(jf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,Sl.EventType.ERROR,t=>{d||(d=!0,jl(jf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Bl(zl.UNAVAILABLE,"The operation could not be completed")))}),p(u,Sl.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];Ul(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Ol(jf,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Yh[e];if(void 0!==t)return $h(t)}(t),i=a.message;void 0===n&&(n=zl.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new Bl(n,i)),u.close()}else Ol(jf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(a,El.STAT_EVENT,t=>{t.stat===kl.PROXY?Ol(jf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===kl.NOPROXY&&Ol(jf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function Mf(){return"undefined"!=typeof document?document:null}function Uf(e){return new bd(e,!0)}class Vf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Ol("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class zf{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Vf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===zl.RESOURCE_EXHAUSTED?(Pl(t.toString()),Pl("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===zl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Bl(zl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ol("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ol("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bf extends zf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ml()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Ul(void 0===t||"string"==typeof t),jc.fromBase64String(t||"")):(Ul(void 0===t||t instanceof Uint8Array),jc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?zl.UNKNOWN:$h(e.code);return new Bl(t,e.message||"")}(a);n=new hd(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nd(e,r.document.name),s=_d(r.document.updateTime),a=r.document.createTime?_d(r.document.createTime):rc.min(),o=new ou({mapValue:{fields:r.document.fields}}),l=cu.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new cd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Nd(e,r.document),s=r.readTime?_d(r.readTime):rc.min(),a=cu.newNoDocument(i,s),o=r.removedTargetIds||[];n=new cd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Nd(e,r.document),s=r.removedTargetIds||[];n=new cd([],s,i,null)}else{if(!("filter"in t))return Ml();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Qh(r,i),a=e.targetId;n=new ud(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return rc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?rc.min():t.readTime?_d(t.readTime):rc.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Rd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ju(r)?{documents:Pd(e,r)}:{query:jd(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ed(e,t.resumeToken);const r=wd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(rc.min())>0){n.readTime=xd(e,t.snapshotVersion.toTimestamp());const r=wd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ml()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Rd(this.serializer),t.removeTarget=e,this.Wo(t)}}class qf extends zf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ul(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Ul(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?_d(e.updateTime):_d(t);return n.isEqual(rc.min())&&(n=_d(t)),new Ch(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=_d(e.commitTime);return this.listener.cu(n,t)}return Ul(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Rd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Od(this.serializer,e))};this.Wo(t)}}class Hf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Bl(zl.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===zl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bl(zl.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===zl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Bl(zl.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Kf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Pl(t),this.mu=!1):Ol("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Wf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{tp(this)&&(Ol("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Vl(e);t.vu.add(4),await Qf(t),t.bu.set("Unknown"),t.vu.delete(4),await Gf(t)}(this))})}),this.bu=new Kf(n,r)}}async function Gf(e){if(tp(e))for(const t of e.Ru)await t(!0)}async function Qf(e){for(const t of e.Ru)await t(!1)}function Yf(e,t){const n=Vl(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),ep(n)?Zf(n):bp(n).Ko()&&Jf(n,t))}function Xf(e,t){const n=Vl(e),r=bp(n);n.Au.delete(t),r.Ko()&&$f(n,t),0===n.Au.size&&(r.Ko()?r.jo():tp(n)&&n.bu.set("Unknown"))}function Jf(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bp(e).su(t)}function $f(e,t){e.Vu.qt(t),bp(e).iu(t)}function Zf(e){e.Vu=new fd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),bp(e).start(),e.bu.gu()}function ep(e){return tp(e)&&!bp(e).Uo()&&e.Au.size>0}function tp(e){return 0===Vl(e).vu.size}function np(e){e.Vu=void 0}async function rp(e){e.Au.forEach((t,n)=>{Jf(e,t)})}async function ip(e,t){np(e),ep(e)?(e.bu.Iu(t),Zf(e)):e.bu.set("Unknown")}async function sp(e,t,n){if(e.bu.set("Online"),t instanceof hd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Ol("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ap(e,n)}else if(t instanceof cd?e.Vu.Ht(t):t instanceof ud?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(rc.min()))try{const t=await xf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(jc.EMPTY_BYTE_STRING,r.snapshotVersion)),$f(e,t);const i=new Gd(r.target,t,n,r.sequenceNumber);Jf(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ol("RemoteStore","Failed to raise snapshot:",t),await ap(e,t)}}async function ap(e,t,n){if(!yc(t))throw t;e.vu.add(1),await Qf(e),e.bu.set("Offline"),n||(n=()=>xf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ol("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Gf(e)})}function op(e,t){return t().catch(n=>ap(e,n,t))}async function lp(e){const t=Vl(e),n=wp(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;cp(t);)try{const e=await kf(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,up(t,e)}catch(e){await ap(t,e)}hp(t)&&dp(t)}function cp(e){return tp(e)&&e.Eu.length<10}function up(e,t){e.Eu.push(t);const n=wp(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function hp(e){return tp(e)&&!wp(e).Uo()&&e.Eu.length>0}function dp(e){wp(e).start()}async function fp(e){wp(e).hu()}async function pp(e){const t=wp(e);for(const n of e.Eu)t.uu(n.mutations)}async function mp(e,t,n){const r=e.Eu.shift(),i=Wh.from(r,t,n);await op(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await lp(e)}async function gp(e,t){t&&wp(e).ou&&await async function(e,t){if(Jh(n=t.code)&&n!==zl.ABORTED){const n=e.Eu.shift();wp(e).Qo(),await op(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await lp(e)}var n}(e,t),hp(e)&&dp(e)}async function vp(e,t){const n=Vl(e);n.asyncQueue.verifyOperationInProgress(),Ol("RemoteStore","RemoteStore received new credentials");const r=tp(n);n.vu.add(3),await Qf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Gf(n)}async function yp(e,t){const n=Vl(e);t?(n.vu.delete(2),await Gf(n)):t||(n.vu.add(2),await Qf(n),n.bu.set("Unknown"))}function bp(e){return e.Su||(e.Su=function(e,t,n){const r=Vl(e);return r.fu(),new Bf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:rp.bind(null,e),ao:ip.bind(null,e),nu:sp.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),ep(e)?Zf(e):e.bu.set("Unknown")):(await e.Su.stop(),np(e))})),e.Su}function wp(e){return e.Du||(e.Du=function(e,t,n){const r=Vl(e);return r.fu(),new qf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:fp.bind(null,e),ao:gp.bind(null,e),au:pp.bind(null,e),cu:mp.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await lp(e)):(await e.Du.stop(),e.Eu.length>0&&(Ol("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class xp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new xp(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bl(zl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(e,t){if(Pl("AsyncQueue","".concat(t,": ").concat(e)),yc(e))return new Bl(zl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class kp{constructor(e){this.comparator=e?(t,n)=>e(t,n)||lc.comparator(t.key,n.key):(e,t)=>lc.comparator(e.key,t.key),this.keyedMap=ih(),this.sortedSet=new Cc(this.comparator)}static emptySet(e){return new kp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new kp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _p{constructor(){this.Cu=new Cc(lc.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ml():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Sp{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Sp(e,t,kp.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Tp{constructor(){this.Nu=void 0,this.listeners=[]}}class Ip{constructor(){this.queries=new eh(e=>Qu(e),Gu),this.onlineState="Unknown",this.ku=new Set}}async function Np(e,t){const n=Vl(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Tp),i)try{s.Nu=await n.onListen(r)}catch(e){const n=Ep(e,"Initialization of query '".concat(Yu(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&Dp(n)}async function Cp(e,t){const n=Vl(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ap(e,t){const n=Vl(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Dp(n)}function Rp(e,t,n){const r=Vl(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Dp(e){e.ku.forEach(e=>{e.next()})}class Fp{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Sp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Sp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Op{constructor(e){this.key=e}}class Pp{constructor(e){this.key=e}}class jp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=hh(),this.mutatedKeys=hh(),this.tc=$u(e),this.ec=new kp(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new _p,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Xu(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ml()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new Sp(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _p,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=hh(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Pp(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Op(n))}),t}hc(e){this.Yu=e.ir,this.Zu=hh();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Sp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Lp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Mp{constructor(e){this.key=e,this.fc=!1}}class Up{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new eh(e=>Qu(e),Gu),this._c=new Map,this.mc=new Set,this.gc=new Cc(lc.comparator),this.yc=new Map,this.Ic=new of,this.Tc={},this.Ec=new Map,this.Ac=ef.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Vp(e,t){const n=im(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await _f(n.localStore,Ku(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await zp(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Yf(n.remoteStore,e)}return i}async function zp(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Tf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return $p(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await Tf(e.localStore,t,!0),a=new jp(t,s.ir),o=a.sc(s.documents),l=ld.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);$p(e,n,c.cc);const u=new Lp(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Bp(e,t){const n=Vl(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Gu(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Sf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Xf(n.remoteStore,r.targetId),Xp(n,r.targetId)}).catch(gc)):(Xp(n,r.targetId),await Sf(n.localStore,r.targetId,!0))}async function qp(e,t){const n=Vl(e);try{const e=await function(e,t){const n=Vl(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(jc.EMPTY_BYTE_STRING,rc.min()).withLastLimboFreeSnapshotVersion(rc.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Bs.updateTargetData(e,c))});let o=nh(),l=hh();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Ef(e,s,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(rc.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return vc.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(Ul(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Ul(r.fc):e.removedDocuments.size>0&&(Ul(r.fc),r.fc=!1))}),await tm(n,e,t)}catch(e){await gc(e)}}function Hp(e,t,n){const r=Vl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Vl(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&Dp(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Kp(e,t,n){const r=Vl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new Cc(lc.comparator);e=e.insert(s,cu.newNoDocument(s,rc.min()));const n=hh().add(s),i=new od(rc.min(),new Map,new Cc(ec),e,n);await qp(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),em(r)}else await Sf(r.localStore,t,!1).then(()=>Xp(r,t,n)).catch(gc)}async function Wp(e,t){const n=Vl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Vl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=vc.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Ul(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=hh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Yp(n,r,null),Qp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tm(n,e)}catch(e){await gc(e)}}async function Gp(e,t,n){const r=Vl(e);try{const e=await function(e,t){const n=Vl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ul(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Yp(r,t,n),Qp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await tm(r,e)}catch(n){await gc(n)}}function Qp(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Yp(e,t,n){const r=Vl(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Xp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Jp(e,t)})}function Jp(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Xf(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),em(e))}function $p(e,t,n){for(const r of n)r instanceof Op?(e.Ic.addReference(r.key,t),Zp(e,r)):r instanceof Pp?(Ol("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Jp(e,r.key)):Ml()}function Zp(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Ol("SyncEngine","New document in limbo: "+n),e.mc.add(r),em(e))}function em(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new lc(sc.fromString(t)),r=e.Ac.next();e.yc.set(r,new Mp(n)),e.gc=e.gc.insert(n,r),Yf(e.remoteStore,new Gd(Ku(Uu(n.path)),r,"TargetPurposeLimboResolution",bc.ct))}}async function tm(e,t,n){const r=Vl(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{a.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=gf.Li(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=Vl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>vc.forEach(t,t=>vc.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>vc.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!yc(e))throw e;Ol("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function nm(e,t){const n=Vl(e);if(!n.currentUser.isEqual(t)){Ol("SyncEngine","User change. New user:",t.toKey());const e=await wf(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Bl(zl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await tm(n,e.er)}}function rm(e,t){const n=Vl(e),r=n.yc.get(t);if(r&&r.fc)return hh().add(r.key);{let e=hh();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function im(e){const t=Vl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kp.bind(null,t),t.dc.nu=Ap.bind(null,t.eventManager),t.dc.Pc=Rp.bind(null,t.eventManager),t}function sm(e){const t=Vl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gp.bind(null,t),t}class am{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return bf(this.persistence,new vf,e.initialUser,this.serializer)}createPersistence(e){return new ff(mf.zs,this.serializer)}createSharedClientState(e){return new Cf}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class om{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Hp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=nm.bind(null,this.syncEngine),await yp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ip}createDatastore(e){const t=Uf(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Lf(r));var r;return function(e,t,n,r){return new Hf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Hp(this.syncEngine,e,0),s=Rf.D()?new Rf:new Af,new Wf(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Up(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Vl(e);Ol("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Qf(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class lm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Pl("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Al.UNAUTHENTICATED,this.clientId=Zl.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Ol("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ol("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bl(zl.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ep(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function um(e,t){e.asyncQueue.verifyOperationInProgress(),Ol("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await wf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function hm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await fm(e);Ol("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>vp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>vp(t.remoteStore,n)),e._onlineComponents=t}function dm(e){return"FirebaseError"===e.name?e.code===zl.FAILED_PRECONDITION||e.code===zl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function fm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ol("FirestoreClient","Using user provided OfflineComponentProvider");try{await um(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!dm(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await um(e,new am)}}else Ol("FirestoreClient","Using default OfflineComponentProvider"),await um(e,new am);return e._offlineComponents}async function pm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ol("FirestoreClient","Using user provided OnlineComponentProvider"),await hm(e,e._uninitializedComponentsProvider._online)):(Ol("FirestoreClient","Using default OnlineComponentProvider"),await hm(e,new om))),e._onlineComponents}function mm(e){return pm(e).then(e=>e.syncEngine)}async function gm(e){const t=await pm(e),n=t.eventManager;return n.onListen=Vp.bind(null,t.syncEngine),n.onUnlisten=Bp.bind(null,t.syncEngine),n}function vm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ym=new Map;function bm(e,t,n){if(!n)throw new Bl(zl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wm(e){if(!lc.isDocumentKey(e))throw new Bl(zl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function xm(e){if(lc.isDocumentKey(e))throw new Bl(zl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Em(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ml()}function km(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bl(zl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Em(e);throw new Bl(zl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class _m{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Bl(zl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bl(zl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Bl(zl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Bl(zl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Bl(zl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Bl(zl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Sm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _m({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bl(zl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bl(zl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _m(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Kl;switch(e.type){case"firstParty":return new Yl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bl(zl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ym.get(e);t&&(Ol("ComponentProvider","Removing Datastore"),ym.delete(e),t.terminate())}(this),Promise.resolve()}}function Tm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=km(e,Sm))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Al.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Bl(zl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Al(s)}e._authCredentials=new Wl(new Hl(t,n))}}class Im{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Im(this.firestore,e,this._key)}}class Nm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Nm(this.firestore,e,this._query)}}class Cm extends Nm{constructor(e,t,n){super(e,t,Uu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Im(this.firestore,null,new lc(e))}withConverter(e){return new Cm(this.firestore,e,this._path)}}function Am(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=F(e),bm("collection","path",t),e instanceof Sm){const n=sc.fromString(t,...r);return xm(n),new Cm(e,null,n)}{if(!(e instanceof Im||e instanceof Cm))throw new Bl(zl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(sc.fromString(t,...r));return xm(n),new Cm(e.firestore,null,n)}}function Rm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=F(e),1===arguments.length&&(t=Zl.A()),bm("doc","path",t),e instanceof Sm){const n=sc.fromString(t,...r);return wm(n),new Im(e,null,new lc(n))}{if(!(e instanceof Im||e instanceof Cm))throw new Bl(zl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(sc.fromString(t,...r));return wm(n),new Im(e.firestore,e instanceof Cm?e.converter:null,new lc(n))}}class Dm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Vf(this,"async_queue_retry"),this.Xc=()=>{const e=Mf();e&&Ol("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Mf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Mf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ql;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!yc(e))throw e;Ol("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Pl("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=xp.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Ml()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Fm(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class Om extends Sm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Dm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lm(this),this._firestoreClient.terminate()}}function Pm(e,t){const n="string"==typeof e?e:t||"(default)",r=ze("object"==typeof e?e:We(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=v(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Tm(r,...e)}return r}function jm(e){return e._firestoreClient||Lm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Lm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Hc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,vm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new cm(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Mm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mm(jc.fromBase64String(e))}catch(e){throw new Bl(zl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Mm(jc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Um{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Bl(zl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vm{constructor(e){this._methodName=e}}class zm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bl(zl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bl(zl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ec(this._lat,e._lat)||ec(this._long,e._long)}}const Bm=/^__.*__$/;class qm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Uh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mh(e,this.data,t,this.fieldTransforms)}}function Hm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ml()}}class Km{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Km(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ng(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Hm(this.ca)&&Bm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Wm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Uf(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Km({ca:e,methodName:t,ga:n,path:oc.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(e){const t=e._freezeSettings(),n=Uf(e._databaseId);return new Wm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);$m("Data must be an object, but it was:",a,r);const o=Xm(r,a);let l,c;if(s.merge)l=new Oc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Zm(t,r,n);if(!a.contains(i))throw new Bl(zl.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));rg(e,i)||e.push(i)}l=new Oc(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new qm(new ou(o),l,c)}function Ym(e,t){if(Jm(e=F(e)))return $m("Unsupported field value:",t,e),Xm(e,t);if(e instanceof Vm)return function(e,t){if(!Hm(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ym(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=F(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=nc.fromDate(e);return{timestampValue:xd(t.serializer,n)}}if(e instanceof nc){const n=new nc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xd(t.serializer,n)}}if(e instanceof zm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Mm)return{bytesValue:Ed(t.serializer,e._byteString)};if(e instanceof Im){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Sd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Em(e)))}(e,t)}function Xm(e,t){const n={};return Nc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ic(e,(e,r)=>{const i=Ym(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Jm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof nc||e instanceof zm||e instanceof Mm||e instanceof Im||e instanceof Vm)}function $m(e,t,n){if(!Jm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Em(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Zm(e,t,n){if((t=F(t))instanceof Um)return t._internalPath;if("string"==typeof t)return tg(e,t);throw ng("Field path arguments must be of type string or ",e,!1,void 0,n)}const eg=new RegExp("[~\\*/\\[\\]]");function tg(e,t,n){if(t.search(eg)>=0)throw ng("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Um(...t.split("."))._internalPath}catch(r){throw ng("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ng(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Bl(zl.INVALID_ARGUMENT,o+e+l)}function rg(e,t){return e.some(e=>e.isEqual(t))}class ig{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Im(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ag("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sg extends ig{data(){return super.data()}}function ag(e,t){return"string"==typeof t?tg(e,t):t instanceof Um?t._internalPath:t._delegate._internalPath}function og(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Bl(zl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ml()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ic(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new zm(Uc(e.latitude),Uc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=Mc(e);return new nc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=sc.fromString(e);Ul(Wd(n));const r=new Kc(n.get(1),n.get(3)),i=new lc(n.popFirst(5));return r.isEqual(t)||Pl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function cg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hg extends ig{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ag("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class dg extends hg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class fg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ug(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new dg(this._firestore,this._userDataWriter,n.key,n,new ug(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Bl(zl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new dg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ug(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new dg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ug(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:pg(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function pg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ml()}}class mg extends lg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Im(this.firestore,null,t)}}function gg(e,t,n){e=km(e,Im);const r=km(e.firestore,Om),i=cg(e.converter,t,n);return bg(r,[Qm(Gm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ah.none())])}function vg(e){return bg(km(e.firestore,Om),[new qh(e._key,Ah.none())])}function yg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=F(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Fm(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(Fm(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof Im)h=km(e.firestore,Om),d=Uu(e._key.path),u={next:t=>{n[l]&&n[l](wg(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=km(e,Nm);h=km(t.firestore,Om),d=t._query;const r=new mg(h);u={next:e=>{n[l]&&n[l](new fg(h,r,t,e))},error:n[l+1],complete:n[l+2]},og(e._query)}return function(e,t,n,r){const i=new lm(r),s=new Fp(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Np(await gm(e),s)),()=>{i.Dc(),e.asyncQueue.enqueueAndForget(async()=>Cp(await gm(e),s))}}(jm(h),d,c,u)}function bg(e,t){return function(e,t){const n=new ql;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=sm(e);try{const e=await function(e,t){const n=Vl(e),r=nc.now(),i=t.reduce((e,t)=>e.add(t.key),hh());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=nh(),l=hh();return n.Zi.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=jh(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Uh(e.key,t,lu(t.value.mapValue),Ah.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:sh(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Cc(ec)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await tm(r,e.changes),await lp(r.remoteStore)}catch(e){const t=Ep(e,"Failed to persist write");n.reject(t)}}(await mm(e),t,n)),n.promise}(jm(e),t)}function wg(e,t,n){const r=n.docs.get(t._key),i=new mg(e);return new hg(e,i,t._key,r,new ug(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Rl=e}(He),Ve(new O("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Om(new Gl(e.getProvider("auth-internal")),new Jl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bl(zl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ge(Cl,"3.13.0",e),Ge(Cl,"3.13.0","esm2017")}();var xg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Eg=["color","size","strokeWidth","absoluteStrokeWidth","children"],kg=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:u}=n,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,Eg);return(0,r.createElement)("svg",c(c({ref:i},xg),{},{width:a,height:a,stroke:s,strokeWidth:l?24*Number(o)/Number(a):o,className:"lucide lucide-".concat((d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},h),[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...(Array.isArray(u)?u:[u])||[]]);var d});return n.displayName="".concat(e),n},_g=kg("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Sg=kg("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Tg=kg("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ig=kg("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ng=kg("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Cg=kg("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ag=kg("Gavel",[["path",{d:"m14 13-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L11 10",key:"c9cbz0"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]),Rg=kg("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Dg=kg("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Fg=kg("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Og=kg("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Pg=kg("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]]),jg=kg("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Lg=kg("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Mg=kg("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Ug=kg("GitPullRequest",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]]),Vg=kg("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var zg=n(579);const Bg=function(){const[e,t]=(0,r.useState)("home"),[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[u,h]=(0,r.useState)(null),[d,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)([]),[y,b]=(0,r.useState)([]),[w,x]=(0,r.useState)({}),[E,k]=(0,r.useState)([]),_=[{id:"R-01",name:"Rep. Ivanov",party:"United Russia",region:"Volga Valley",image:""},{id:"R-02",name:"Rep. Petrov",party:"Russia of the Future",region:"Northern Frontier",image:""},{id:"R-03",name:"Rep. Sidorov",party:"Independent",region:"Caucasia",image:""},{id:"R-04",name:"Rep. Smirnova",party:"United Russia",region:"Central Steppes",image:""},{id:"R-05",name:"Rep. Kuznetsov",party:"Russia of the Future",region:"Siberian Frontier",image:""},{id:"R-06",name:"Rep. Volkova",party:"Independent",region:"Outer Mongolia",image:""},{id:"R-07",name:"Rep. Morozov",party:"United Russia",region:"Volga Valley",image:""},{id:"R-08",name:"Rep. Lebedev",party:"Russia of the Future",region:"Northern Frontier",image:""},{id:"R-09",name:"Rep. Novikova",party:"Independent",region:"Caucasia",image:""},{id:"R-10",name:"Rep. Fedorov",party:"United Russia",region:"Central Steppes",image:""},{id:"R-11",name:"Rep. Pavlova",party:"Russia of the Future",region:"Siberian Frontier",image:""},{id:"R-12",name:"Rep. Orlov",party:"Independent",region:"Outer Mongolia",image:""},{id:"R-13",name:"Rep. Egorov",party:"United Russia",region:"Volga Valley",image:""},{id:"R-14",name:"Rep. Melnik",party:"Russia of the Future",region:"Northern Frontier",image:""},{id:"R-15",name:"Rep. Belova",party:"Independent",region:"Caucasia",image:""}];(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{!async function(){const e="undefined"!==typeof __firebase_config?JSON.parse(__firebase_config):{},t="undefined"!==typeof __initial_auth_token?__initial_auth_token:null;if(Object.keys(e).length){const s=Ke(e);try{var n,r;const e=(null===s||void 0===s||null===(n=s.options)||void 0===n?void 0:n.projectId)||(null===s||void 0===s||null===(r=s.options)||void 0===r?void 0:r.appId)||("undefined"!==typeof __app_id?__app_id:"default-app-id");window.__app_id=e,m(e)}catch(i){console.warn("Could not set global __app_id",i)}const o=Pm(s),c=ai(s);h(o),f(c);const u=function(e,t,n,r){return F(e).onAuthStateChanged(t,n,r)}(c,async e=>{if(e)l(e.uid),a(!0);else try{t?await Wn(c,t):await async function(e){var t;const n=vn(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Un({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Mn(n,{returnSecureToken:!0}),i=await Un._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(c)}catch(n){console.error("Firebase sign-in failed:",n)}})}}()},[]),(0,r.useEffect)(()=>{if(u&&o&&p){const e=Am(u,"artifacts/".concat(p,"/public/data/bills")),t=Am(u,"artifacts/".concat(p,"/public/data/representatives")),n=Am(u,"artifacts/".concat(p,"/public/data/leadership")),r=Am(u,"artifacts/".concat(p,"/public/data/agenda")),i=yg(e,e=>{const t=e.docs.map(e=>c({id:e.id},e.data()));v(t)},e=>console.error("Bills snapshot error",e)),s=yg(t,e=>{const t=e.docs.map(e=>c({id:e.id},e.data()));b(t)},e=>console.error("Representatives snapshot error",e)),a=yg(n,e=>{const t={};e.docs.forEach(e=>{t[e.id]=e.data()}),x(t)},e=>console.error("Leadership snapshot error",e)),o=yg(r,e=>{const t=e.docs.map(e=>c({id:e.id},e.data()));k(t)},e=>console.error("Agenda snapshot error",e));return()=>{i(),s(),a(),o()}}},[u,o,p]);const S=e=>{switch(e){case"United Russia":return"bg-red-500 text-white";case"Russia of the Future":return"bg-blue-500 text-white";case"Independent":return"bg-purple-500 text-white";default:return"bg-gray-400 text-white"}},T=e=>{switch(e){case"submitted":return"bg-gray-500/20 text-gray-500";case"scheduled":return"bg-blue-500/20 text-blue-500";case"in debate":return"bg-indigo-500/20 text-indigo-500";case"amended":return"bg-purple-500/20 text-purple-500";case"passed":return"bg-green-500/20 text-green-500";case"failed":return"bg-red-500/20 text-red-500";case"postponed":return"bg-yellow-500/20 text-yellow-500";case"sent to president":return"bg-teal-500/20 text-teal-500";case"withdrawn":return"bg-gray-400/20 text-gray-400";case"first hearing":return"bg-cyan-500/20 text-cyan-500";case"second hearing":return"bg-orange-500/20 text-orange-500";case"third hearing":return"bg-pink-500/20 text-pink-500";default:return"bg-gray-600/20 text-gray-600"}},I=()=>{const[e,t]=(0,r.useState)(!1),n=[{title:"Bill Introduction",description:"A legislator or government body formally presents a proposed law. The bill is assigned a number and enters the legislative system."},{title:"First Reading",description:"The bill\u2019s title and general purpose are presented. Members debate its overall concept."},{title:"Second Reading",description:"Detailed examination occurs. Members discuss the bill\u2019s specific provisions, propose amendments, and vote on them."},{title:"Third Reading",description:"Final review and debate. No further amendments are allowed, and legislators vote on whether to pass the bill in its final form."},{title:"Presidential Signing",description:"If the legislature passes the bill, it goes to the president for approval. The president can sign it into law or veto it."},{title:"Published as Law",description:"Once signed, the law is officially published and becomes enforceable, entering the legal system for implementation."}],[i,s]=(0,r.useState)(0);return(0,zg.jsxs)("div",{className:"flex flex-col items-center",children:[(0,zg.jsxs)("div",{className:"w-full relative py-24 sm:py-32 overflow-hidden rounded-b-[4rem] shadow-2xl z-0 mb-16",children:[(0,zg.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0A1F44] via-[#2979FF] to-[#FFD700] opacity-70"}),(0,zg.jsx)("div",{className:"absolute inset-0 bg-[url('https://placehold.co/1920x1080/0A1F44/2979FF/png?text=')] bg-cover bg-center mix-blend-overlay opacity-30"}),(0,zg.jsxs)("div",{className:"relative z-10 container mx-auto text-center px-4",children:[(0,zg.jsxs)("h1",{className:"text-4xl sm:text-6xl lg:text-7xl text-white font-extrabold tracking-wide uppercase leading-tight animate-fade-in-up",children:["State Duma ",(0,zg.jsx)("br",{})," of the Russian Federation"]}),(0,zg.jsx)("p",{className:"mt-4 sm:mt-6 text-xl sm:text-2xl text-white/80 leading-relaxed max-w-2xl mx-auto animate-fade-in",style:{animationDelay:"0.5s"},children:"The legislative authority of the Russian Federation."})]})]}),(0,zg.jsx)("div",{className:"w-full max-w-7xl px-4 sm:px-6 mb-16",children:(0,zg.jsxs)("div",{className:"bg-[#111827] p-8 md:p-12 rounded-[2rem] shadow-xl border border-white/10 transition-transform duration-500 hover:scale-[1.005]",children:[(0,zg.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>t(!e),children:[(0,zg.jsxs)("h2",{className:"text-3xl font-bold tracking-wide uppercase text-white flex items-center",children:[(0,zg.jsx)(_g,{className:"inline-block mr-3 text-[#2979FF]",size:30})," The Duma Explained"]}),(0,zg.jsx)(Sg,{className:"text-[#FFD700] transition-transform duration-300 ".concat(e?"rotate-180":""),size:32})]}),e&&(0,zg.jsxs)("div",{className:"grid md:grid-cols-3 gap-8 mt-8 text-left animate-fade-in-down",children:[(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-6 rounded-2xl shadow-inner border border-[#2979FF]/20 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[(0,zg.jsxs)("h3",{className:"text-2xl font-bold tracking-wide uppercase text-[#FFD700] mb-3 flex items-center",children:[(0,zg.jsx)(Tg,{className:"mr-2 text-[#2979FF]"})," Job of Deputies"]}),(0,zg.jsx)("p",{className:"text-[#94A3B8] leading-relaxed text-sm",children:"Deputies serve as the legislative representatives of the Russian people. Their primary roles include initiating and voting on federal laws, approving the appointment of the Prime Minister, overseeing the government's work, and representing their constituents' interests at the national level. They work within parliamentary committees and factions to debate and shape policy."})]}),(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-6 rounded-2xl shadow-inner border border-[#2979FF]/20 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[(0,zg.jsxs)("h3",{className:"text-2xl font-bold tracking-wide uppercase text-[#FFD700] mb-3 flex items-center",children:[(0,zg.jsx)(Ig,{className:"mr-2 text-[#2979FF]"})," How They Are Elected"]}),(0,zg.jsx)("p",{className:"text-[#94A3B8] leading-relaxed text-sm",children:"There are 15 deputies in the State Duma. They are elected based on campaign points and direct votes, combined into a percentage against their opponent. The candidate with the highest percentage wins the seat."})]}),(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-6 rounded-2xl shadow-inner border border-[#2979FF]/20 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[(0,zg.jsxs)("h3",{className:"text-2xl font-bold tracking-wide uppercase text-[#FFD700] mb-3 flex items-center",children:[(0,zg.jsx)(Ng,{className:"mr-2 text-[#2979FF]"})," State Duma Rules"]}),(0,zg.jsx)("p",{className:"text-[#94A3B8] leading-relaxed text-sm",children:"State Duma rules play a vital part in the organization and functioning of the State Duma."}),(0,zg.jsxs)("a",{href:"https://docs.google.com/document/d/1KlmwV8XzArt008LcR2Vn2emy6NDYIAamYjab4QO-MSs/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-flex items-center text-[#2979FF] hover:text-[#FFD700] transition-colors duration-200",children:["View Document ",(0,zg.jsx)(Cg,{size:16,className:"ml-2"})]})]})]})]})}),(0,zg.jsx)("div",{id:"timeline",className:"w-full max-w-7xl px-4 sm:px-6 mb-16",children:(0,zg.jsxs)("div",{className:"bg-[#111827] p-8 md:p-12 rounded-[2rem] shadow-xl border border-white/10",children:[(0,zg.jsxs)("h2",{className:"text-3xl font-bold tracking-wide uppercase text-white text-center mb-12 flex items-center justify-center",children:[(0,zg.jsx)(Ag,{className:"inline-block mr-3 text-[#2979FF]",size:30})," The Journey of Legislation"]}),(0,zg.jsxs)("div",{className:"relative flex justify-between items-center mb-10 h-16",children:[(0,zg.jsx)("div",{className:"absolute w-full h-1 bg-[#0A1F44] top-1/2 left-0 -translate-y-1/2",children:(0,zg.jsx)("div",{className:"h-full bg-gradient-to-r from-[#2979FF] to-[#FFD700] transition-all duration-300",style:{width:"".concat(i/(n.length-1)*100,"%")}})}),n.map((e,t)=>(0,zg.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 text-center relative z-10 my-4 md:my-0",children:[(0,zg.jsx)("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center border-4 transition-all duration-300 ".concat(i>=t?"border-[#FFD700] bg-[#2979FF]":"border-[#0A1F44] bg-[#0A1F44]"),children:i>=t&&(0,zg.jsx)(Rg,{className:"text-white block align-middle",size:20})}),(0,zg.jsx)("p",{className:"mt-4 text-sm md:text-base font-medium leading-tight max-w-[100px] transition-colors duration-300 ".concat(i>=t?"text-white":"text-[#64748B]"),children:e.title})]},t))]}),(0,zg.jsx)("div",{className:"w-full flex justify-center mt-8 mb-6",children:(0,zg.jsx)("input",{type:"range",min:"0",max:n.length-1,value:i,onChange:e=>s(parseInt(e.target.value)),className:"w-4/5 h-2 rounded-lg appearance-none bg-[#0A1F44] outline-none slider-thumb"})}),(0,zg.jsxs)("div",{className:"mt-12 bg-[#0A1F44] p-6 rounded-2xl shadow-lg border border-[#2979FF]/20 text-center animate-fade-in-down",children:[(0,zg.jsx)("h3",{className:"text-2xl font-bold tracking-wide uppercase text-[#FFD700] mb-3",children:n[i].title}),(0,zg.jsx)("p",{className:"text-lg text-[#CBD5E1] leading-relaxed",children:n[i].description})]})]})})]})},N=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)({type:"all",value:"All"}),s={Parties:["All","United Russia","Russia of the Future","Independent"],Regions:["All","Volga Valley","Northern Frontier","Caucasia","Central Steppes","Siberian Frontier","Outer Mongolia"]},a=(y&&y.length?y:_).filter(t=>t.name.toLowerCase().includes(e.toLowerCase())).filter(e=>{if("All"===n.value)return!0;return e["parties"===n.type?"party":"region"]===n.value});return(0,zg.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,zg.jsxs)("div",{className:"w-full h-64 sm:h-80 relative overflow-hidden rounded-b-[4rem] shadow-2xl z-0 mb-12",children:[(0,zg.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0A1F44] via-[#2979FF] to-[#FFD700] opacity-70"}),(0,zg.jsx)("div",{className:"absolute inset-0 bg-[url('https://placehold.co/1920x1080/0A1F44/2979FF/png?text=')] bg-cover bg-center mix-blend-overlay opacity-30"}),(0,zg.jsx)("div",{className:"relative z-10 flex items-center justify-center h-full px-4",children:(0,zg.jsx)("h1",{className:"text-4xl sm:text-6xl text-white font-extrabold tracking-wide uppercase text-center animate-fade-in-up",children:"Directory of Representatives"})})]}),(0,zg.jsxs)("div",{className:"w-full max-w-7xl mx-auto",children:[(0,zg.jsx)("div",{className:"bg-[#111827] p-6 rounded-2xl shadow-lg mb-8 border border-white/10",children:(0,zg.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,zg.jsxs)("div",{className:"relative w-full sm:w-2/3",children:[(0,zg.jsx)(Dg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#94A3B8]",size:20}),(0,zg.jsx)("input",{type:"text",placeholder:"SEARCH REPRESENTATIVES...",className:"w-full pl-12 pr-4 py-3 bg-[#0A1F44] text-white rounded-full focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B] font-mono",value:e,onChange:e=>t(e.target.value)})]}),(0,zg.jsxs)("div",{className:"relative w-full sm:w-1/3",children:[(0,zg.jsxs)("select",{onChange:e=>{const[t,n]=e.target.value.split(":");i({type:t,value:n})},className:"w-full px-4 py-3 bg-[#0A1F44] text-white rounded-full appearance-none focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner",children:[(0,zg.jsx)("option",{value:"all:All",children:"Filter by Party or Region"}),Object.keys(s).map(e=>(0,zg.jsx)("optgroup",{label:e,children:s[e].map(t=>(0,zg.jsx)("option",{value:"".concat(e.toLowerCase(),":").concat(t),children:t},t))},e))]}),(0,zg.jsx)(Sg,{size:20,className:"absolute right-4 top-1/2 -translate-y-1/2 text-[#94A3B8] pointer-events-none"})]})]})}),(0,zg.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in-up",children:a.length>0?a.map((e,t)=>(0,zg.jsx)("div",{className:"bg-[#0A1F44] p-6 rounded-2xl shadow-lg border border-[#2979FF]/20 transition-all duration-300 hover:scale-[1.03] hover:shadow-2xl hover:border-[#FFD700]",children:(0,zg.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,zg.jsx)("div",{className:"relative w-24 h-24 rounded-full bg-[#111827] flex items-center justify-center border-4 border-[#FFD700] shadow-md overflow-hidden",children:e.image?(0,zg.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):(0,zg.jsx)("img",{src:"https://placehold.co/400x400/0A1F44/FFD700?text=".concat(encodeURIComponent(e.name.split(" ")[1]||e.name.charAt(0))),alt:"placeholder",className:"w-full h-full object-cover"})}),(0,zg.jsxs)("div",{className:"text-center",children:[(0,zg.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,zg.jsx)("h2",{className:"text-xl font-bold tracking-wide uppercase text-white",children:e.name}),Object.values(w||{}).map(t=>(null===t||void 0===t?void 0:t.repId)===e.id?(0,zg.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-[#FFD700] text-[#0A1F44] uppercase ml-2",children:t.role||"Leader"},t.role||t.name):null)]}),(0,zg.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full mt-2 inline-block ".concat("United Russia"===e.party?"bg-red-500 text-white":"Russia of the Future"===e.party?"bg-blue-500 text-white":"bg-purple-500 text-white"),children:e.party}),(0,zg.jsx)("p",{className:"text-[#94A3B8] text-sm mt-1",children:e.region})]})]})},t)):(0,zg.jsx)("div",{className:"col-span-1 sm:col-span-2 lg:col-span-3 text-center text-[#94A3B8] p-8",children:(0,zg.jsx)("p",{children:"No representatives found matching your criteria."})})})]})]})},C=()=>{var e,t,n,r,i,s,a,o,l,c,u,h,d,f,p,m,g,v,y,b,x;return(0,zg.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,zg.jsxs)("div",{className:"w-full h-64 sm:h-80 relative overflow-hidden rounded-b-[4rem] shadow-2xl z-0 mb-12",children:[(0,zg.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0A1F44] via-[#2979FF] to-[#FFD700] opacity-70"}),(0,zg.jsx)("div",{className:"absolute inset-0 bg-[url('https://placehold.co/1920x1080/0A1F44/2979FF/png?text=')] bg-cover bg-center mix-blend-overlay opacity-30"}),(0,zg.jsx)("div",{className:"relative z-10 flex items-center justify-center h-full px-4",children:(0,zg.jsx)("h1",{className:"text-4xl sm:text-6xl text-white font-extrabold tracking-wide uppercase text-center animate-fade-in-up",children:"Leadership of the Duma"})})]}),(0,zg.jsxs)("div",{className:"w-full max-w-7xl mx-auto",children:[(0,zg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-fade-in-up",children:[(0,zg.jsx)("div",{className:"md:col-span-1 flex justify-center items-stretch",children:(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-6 rounded-2xl shadow-xl border border-[#2979FF]/20 flex flex-col items-center text-center transition-all duration-300 hover:scale-[1.03] hover:shadow-2xl hover:border-[#FFD700]",children:[(0,zg.jsx)("img",{src:(null===(e=w.majorityLeader)||void 0===e?void 0:e.image)||"https://placehold.co/400x400/0A1F44/FFD700?text=DM",alt:(null===(t=w.majorityLeader)||void 0===t?void 0:t.name)||"Majority Leader",className:"w-24 h-24 rounded-full object-cover mb-4 border-4 border-[#FFD700] shadow-lg"}),(0,zg.jsx)("h3",{className:"text-lg font-bold tracking-wide uppercase text-[#2979FF]",children:(null===(n=w.majorityLeader)||void 0===n?void 0:n.role)||"Majority Leader"}),(0,zg.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:(null===(r=w.majorityLeader)||void 0===r?void 0:r.name)||"N/A"}),(0,zg.jsx)("span",{className:"px-2 py-1 text-sm font-semibold rounded-full ".concat(S(null===(i=w.majorityLeader)||void 0===i?void 0:i.party)),children:(null===(s=w.majorityLeader)||void 0===s?void 0:s.party)||"N/A"}),(0,zg.jsx)("p",{className:"text-[#94A3B8] text-sm mt-1",children:(null===(a=w.majorityLeader)||void 0===a?void 0:a.region)||"N/A"})]})}),(0,zg.jsx)("div",{className:"md:col-span-1 flex justify-center items-stretch",children:(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-8 rounded-2xl shadow-xl border border-[#2979FF]/20 flex flex-col items-center text-center transition-all duration-300 hover:scale-[1.03] hover:shadow-2xl hover:border-[#FFD700]",children:[(0,zg.jsx)("img",{src:(null===(o=w.speaker)||void 0===o?void 0:o.image)||"https://placehold.co/400x400/0A1F44/2979FF?text=VV",alt:(null===(l=w.speaker)||void 0===l?void 0:l.name)||"Duma Speaker",className:"w-32 h-32 rounded-full object-cover mb-6 border-4 border-[#2979FF] shadow-lg"}),(0,zg.jsx)("h3",{className:"text-2xl font-bold tracking-wide uppercase text-[#FFD700]",children:(null===(c=w.speaker)||void 0===c?void 0:c.role)||"Duma Speaker"}),(0,zg.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:(null===(u=w.speaker)||void 0===u?void 0:u.name)||"N/A"}),(0,zg.jsx)("span",{className:"px-3 py-1 text-sm font-semibold rounded-full ".concat(S(null===(h=w.speaker)||void 0===h?void 0:h.party)),children:(null===(d=w.speaker)||void 0===d?void 0:d.party)||"N/A"}),(0,zg.jsx)("p",{className:"text-[#94A3B8] text-sm mt-1",children:(null===(f=w.speaker)||void 0===f?void 0:f.region)||"N/A"})]})}),(0,zg.jsx)("div",{className:"md:col-span-1 flex justify-center items-stretch",children:(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-6 rounded-2xl shadow-xl border border-[#2979FF]/20 flex flex-col items-center text-center transition-all duration-300 hover:scale-[1.03] hover:shadow-2xl hover:border-[#FFD700]",children:[(0,zg.jsx)("img",{src:(null===(p=w.minorityLeader)||void 0===p?void 0:p.image)||"https://placehold.co/400x400/0A1F44/2979FF?text=GZ",alt:(null===(m=w.minorityLeader)||void 0===m?void 0:m.name)||"Minority Leader",className:"w-24 h-24 rounded-full object-cover mb-4 border-4 border-[#2979FF] shadow-lg"}),(0,zg.jsx)("h3",{className:"text-lg font-bold tracking-wide uppercase text-[#2979FF]",children:(null===(g=w.minorityLeader)||void 0===g?void 0:g.role)||"Minority Leader"}),(0,zg.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:(null===(v=w.minorityLeader)||void 0===v?void 0:v.name)||"N/A"}),(0,zg.jsx)("span",{className:"px-2 py-1 text-sm font-semibold rounded-full ".concat(S(null===(y=w.minorityLeader)||void 0===y?void 0:y.party)),children:(null===(b=w.minorityLeader)||void 0===b?void 0:b.party)||"N/A"}),(0,zg.jsx)("p",{className:"text-[#94A3B8] text-sm mt-1",children:(null===(x=w.minorityLeader)||void 0===x?void 0:x.region)||"N/A"})]})})]}),(0,zg.jsxs)("div",{className:"bg-[#111827] p-8 md:p-12 rounded-[2rem] shadow-xl border border-white/10 mt-12 transition-transform duration-500 hover:scale-[1.005]",children:[(0,zg.jsxs)("h2",{className:"text-3xl font-bold tracking-wide uppercase text-white flex items-center justify-center mb-6",children:[(0,zg.jsx)(_g,{className:"inline-block mr-3 text-[#2979FF]",size:30})," Understanding Leadership Roles"]}),(0,zg.jsxs)("div",{className:"grid md:grid-cols-3 gap-8 mt-8 text-left",children:[(0,zg.jsxs)("div",{className:"p-4 rounded-xl",children:[(0,zg.jsx)("h3",{className:"text-xl font-bold tracking-wide uppercase text-[#FFD700] mb-2 flex items-center",children:"Duma Speaker"}),(0,zg.jsx)("p",{className:"text-[#94A3B8] leading-relaxed text-sm",children:"The Speaker is elected by the State Duma as a whole. This position presides over sessions, manages the legislative schedule, and represents the chamber in official matters. The Speaker plays a central role in maintaining order during debates and ensuring the passage of laws follows procedure."})]}),(0,zg.jsxs)("div",{className:"p-4 rounded-xl",children:[(0,zg.jsx)("h3",{className:"text-xl font-bold tracking-wide uppercase text-[#2979FF] mb-2 flex items-center",children:"Majority Leader"}),(0,zg.jsx)("p",{className:"text-[#94A3B8] leading-relaxed text-sm",children:"The Majority Leader is chosen by the faction holding the largest number of seats. This leader organizes the legislative priorities of the majority, guides bills through debates and votes, and acts as the main spokesperson of the dominant faction."})]}),(0,zg.jsxs)("div",{className:"p-4 rounded-xl",children:[(0,zg.jsx)("h3",{className:"text-xl font-bold tracking-wide uppercase text-[#2979FF] mb-2 flex items-center",children:"Minority Leader"}),(0,zg.jsx)("p",{className:"text-[#94A3B8] leading-relaxed text-sm",children:"The Minority Leader is elected by the largest opposition faction. Their role is to coordinate the positions of opposition members, present alternatives to government proposals, and ensure that dissenting voices in the Duma are represented effectively."})]})]})]})]})]})},A=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),c=g.filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.date.toLowerCase().includes(e.toLowerCase())||t.sponsor.toLowerCase().includes(e.toLowerCase())||t.type.toLowerCase().includes(e.toLowerCase())),u=e=>{switch(e){case"submitted":return"bg-gray-500 text-white";case"scheduled":return"bg-blue-500 text-white";case"in debate":return"bg-indigo-500 text-white";case"amended":return"bg-purple-500 text-white";case"passed":return"bg-green-500 text-white";case"failed":return"bg-red-500 text-white";case"postponed":return"bg-yellow-500 text-black";case"sent to president":return"bg-teal-500 text-white";case"withdrawn":return"bg-gray-400 text-black";case"first hearing":return"bg-cyan-500 text-white";case"second hearing":return"bg-orange-500 text-white";case"third hearing":return"bg-pink-500 text-white";default:return"bg-gray-600 text-white"}},h=e=>{let{status:t}=e;return(0,zg.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold uppercase ".concat(u(t)),children:t})},d=e=>{let{bill:t,onClose:n}=e;const[i,s]=(0,r.useState)(!1);return t?(0,zg.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-70 animate-fade-in-modal",children:(0,zg.jsxs)("div",{className:"bg-[#0A1F44] text-white p-6 rounded-2xl shadow-2xl max-w-4xl w-full animate-scale-in border border-[#2979FF]",children:[(0,zg.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,zg.jsxs)("div",{children:[(0,zg.jsx)("h3",{className:"text-2xl font-bold tracking-wide uppercase text-[#FFD700] leading-tight",children:t.title}),(0,zg.jsx)("p",{className:"font-mono text-[#94A3B8] text-sm mt-1",children:t.id})]}),(0,zg.jsx)("button",{onClick:n,className:"text-[#2979FF] hover:text-white transition-colors duration-200",children:(0,zg.jsx)(Fg,{size:28})})]}),(0,zg.jsxs)("div",{className:"overflow-y-auto max-h-[50vh] pr-2",children:[(0,zg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,zg.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,zg.jsxs)("div",{className:"bg-[#111827] p-4 rounded-xl shadow-inner border border-[#2979FF]/20",children:[(0,zg.jsx)("h4",{className:"text-sm font-semibold text-[#FFD700] uppercase mb-1",children:"Status"}),(0,zg.jsx)(h,{status:t.status})]}),(0,zg.jsxs)("div",{className:"bg-[#111827] p-4 rounded-xl shadow-inner border border-[#2979FF]/20",children:[(0,zg.jsx)("h4",{className:"text-sm font-semibold text-[#FFD700] uppercase mb-1",children:"Date Introduced"}),(0,zg.jsx)("p",{className:"text-[#CBD5E1]",children:t.date})]}),(0,zg.jsxs)("div",{className:"bg-[#111827] p-4 rounded-xl shadow-inner border border-[#2979FF]/20",children:[(0,zg.jsx)("h4",{className:"text-sm font-semibold text-[#FFD700] uppercase mb-1",children:"Sponsor"}),(0,zg.jsx)("p",{className:"text-[#CBD5E1]",children:t.sponsor})]})]}),(0,zg.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,zg.jsxs)("div",{className:"bg-[#111827] p-4 rounded-xl shadow-inner border border-[#2979FF]/20",children:[(0,zg.jsx)("h4",{className:"text-sm font-semibold text-[#FFD700] uppercase mb-1",children:"Bill Type"}),(0,zg.jsx)("p",{className:"text-[#CBD5E1]",children:t.type})]}),(0,zg.jsxs)("div",{className:"bg-[#111827] p-4 rounded-xl shadow-inner border border-[#2979FF]/20",children:[(0,zg.jsx)("h4",{className:"text-sm font-semibold text-[#FFD700] uppercase mb-1",children:"Latest Action"}),(0,zg.jsx)("p",{className:"text-[#CBD5E1]",children:t.latestAction})]}),(0,zg.jsxs)("div",{className:"bg-[#111827] p-4 rounded-xl shadow-inner border border-[#2979FF]/20",children:[(0,zg.jsx)("h4",{className:"text-sm font-semibold text-[#FFD700] uppercase mb-1",children:"Vote Result"}),(0,zg.jsx)("p",{className:"text-[#CBD5E1]",children:"passed"===t.status||"sent to president"===t.status?"Passed":"Pending"})]})]})]}),(0,zg.jsxs)("div",{className:"mt-6",children:[(0,zg.jsxs)("button",{onClick:()=>s(!i),className:"w-full py-2 px-4 rounded-full bg-[#2979FF] text-white font-semibold flex items-center justify-center space-x-2 hover:bg-[#FFD700] hover:text-[#0A1F44] transition-colors duration-200",children:[(0,zg.jsx)("span",{children:"View Vote Info"}),(0,zg.jsx)(Sg,{size:16,className:"".concat(i?"rotate-180":""," transition-transform duration-300")})]}),i&&(0,zg.jsx)("div",{className:"mt-4 bg-[#111827] p-4 rounded-xl space-y-3 animate-fade-in-down",children:(0,zg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,zg.jsxs)("div",{className:"bg-[#22C55E]/20 p-3 rounded-lg",children:[(0,zg.jsxs)("h5",{className:"font-semibold text-[#22C55E]",children:["Ayes (",t.vote.ayes.length,")"]}),(0,zg.jsx)("p",{className:"text-xs text-[#CBD5E1] mt-1",children:t.vote.ayes.join(", ")})]}),(0,zg.jsxs)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:[(0,zg.jsxs)("h5",{className:"font-semibold text-red-500",children:["Nays (",t.vote.nays.length,")"]}),(0,zg.jsx)("p",{className:"text-xs text-[#CBD5E1] mt-1",children:t.vote.nays.join(", ")})]}),(0,zg.jsxs)("div",{className:"bg-yellow-500/20 p-3 rounded-lg",children:[(0,zg.jsxs)("h5",{className:"font-semibold text-yellow-500",children:["Abstain (",t.vote.abstain.length,")"]}),(0,zg.jsx)("p",{className:"text-xs text-[#CBD5E1] mt-1",children:t.vote.abstain.join(", ")})]}),(0,zg.jsxs)("div",{className:"bg-gray-400/20 p-3 rounded-lg",children:[(0,zg.jsxs)("h5",{className:"font-semibold text-gray-400",children:["Absent (",t.vote.absent.length,")"]}),(0,zg.jsx)("p",{className:"text-xs text-[#CBD5E1] mt-1",children:t.vote.absent.join(", ")})]})]})})]})]})]})}):null},f=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),s=e=>{let{agenda:t,onClose:n}=e;return(0,zg.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-70 animate-fade-in-modal",children:(0,zg.jsxs)("div",{className:"bg-[#0A1F44] text-white p-8 rounded-2xl shadow-2xl w-full max-w-2xl animate-scale-in border border-[#2979FF]",children:[(0,zg.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,zg.jsxs)("h3",{className:"text-2xl font-bold tracking-wide uppercase text-[#FFD700]",children:["ORDER OF BUSINESS - ",t.date]}),(0,zg.jsx)("button",{onClick:n,className:"text-[#2979FF] hover:text-white transition-colors duration-200",children:(0,zg.jsx)(Fg,{size:28})})]}),(0,zg.jsx)("div",{className:"overflow-y-auto max-h-[60vh] pr-2 space-y-6",children:t.business&&t.business.map((e,t)=>(0,zg.jsxs)("div",{children:[(0,zg.jsxs)("h4",{className:"font-bold text-lg text-white mb-1",children:[e.time,": ",e.title]}),e.text&&(0,zg.jsx)("p",{className:"text-[#94A3B8] text-sm leading-relaxed",children:e.text}),e.items&&(0,zg.jsxs)("div",{className:"mt-3 ml-4",children:[(0,zg.jsx)("h5",{className:"font-semibold text-[#FFD700] uppercase text-sm mb-2",children:"REVIEW OF PROPOSED LEGISLATION"}),(0,zg.jsx)("ul",{className:"list-none space-y-1",children:e.items.map((e,t)=>(0,zg.jsxs)("li",{children:[(0,zg.jsxs)("span",{className:"text-[#CBD5E1] font-mono text-sm",children:["Bill ",t+1,":"]}),(0,zg.jsx)("span",{className:"text-white ml-2 text-sm",children:e.name}),(0,zg.jsx)("p",{className:"text-xs text-[#64748B] ml-6 italic",children:e.details})]},t))})]})]},t))})]})})};return(0,zg.jsxs)("div",{className:"bg-[#111827] p-8 rounded-2xl shadow-xl border border-white/10 mb-8",children:[(0,zg.jsx)("h2",{className:"text-3xl font-bold tracking-wide uppercase text-[#FFD700] text-center mb-6",children:"Duma Agenda"}),(0,zg.jsx)("div",{className:"space-y-4",children:E&&E.length?E.map((e,n)=>(0,zg.jsx)("div",{className:"bg-[#0A1F44] p-4 rounded-xl shadow-lg border border-[#2979FF]/20",children:(0,zg.jsx)("button",{onClick:()=>{i(e),t(!0)},className:"w-full flex justify-between items-center text-left",children:(0,zg.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,zg.jsx)(Og,{size:20,className:"text-[#FFD700] mr-2"}),e.date]})})},n)):(0,zg.jsx)("div",{className:"text-center text-[#94A3B8] p-8",children:"No upcoming work."})}),e&&n&&(0,zg.jsx)(s,{agenda:n,onClose:()=>t(!1)})]})};return(0,zg.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,zg.jsxs)("div",{className:"w-full h-64 sm:h-80 relative overflow-hidden rounded-b-[4rem] shadow-2xl z-0 mb-12",children:[(0,zg.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0A1F44] via-[#2979FF] to-[#FFD700] opacity-70"}),(0,zg.jsx)("div",{className:"absolute inset-0 bg-[url('https://placehold.co/1920x1080/0A1F44/2979FF/png?text=')] bg-cover bg-center mix-blend-overlay opacity-30"}),(0,zg.jsx)("div",{className:"relative z-10 flex items-center justify-center h-full px-4",children:(0,zg.jsx)("h1",{className:"text-4xl sm:text-6xl text-white font-extrabold tracking-wide uppercase text-center animate-fade-in-up",children:"Live Bill tracking"})})]}),(0,zg.jsxs)("div",{className:"w-full max-w-7xl mx-auto",children:[(0,zg.jsx)(f,{}),(0,zg.jsx)("div",{className:"bg-[#111827] p-6 rounded-2xl shadow-lg mb-8 border border-white/10",children:(0,zg.jsxs)("div",{className:"relative",children:[(0,zg.jsx)(Dg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#94A3B8]",size:20}),(0,zg.jsx)("input",{type:"text",placeholder:"SEARCH BILLS BY NAME, DATE, SPONSOR, OR TYPE...",className:"w-full pl-12 pr-4 py-3 bg-[#0A1F44] text-white rounded-full focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B] font-mono",value:e,onChange:e=>t(e.target.value)})]})}),(0,zg.jsxs)("div",{className:"bg-[#111827] p-8 rounded-2xl shadow-xl border border-white/10",children:[(0,zg.jsx)("h2",{className:"text-3xl font-bold tracking-wide uppercase text-[#FFD700] text-center mb-8",children:"Live Bill tracking"}),(0,zg.jsx)("div",{className:"space-y-6",children:c.length>0?c.map((e,t)=>(0,zg.jsx)("div",{onClick:()=>i(e),className:"bg-[#0A1F44] p-6 rounded-2xl shadow-lg border border-[#2979FF]/20 cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl hover:border-[#FFD700]",children:(0,zg.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[(0,zg.jsxs)("div",{className:"flex flex-col",children:[(0,zg.jsx)("h3",{className:"text-xl font-bold text-white leading-tight",children:e.title}),(0,zg.jsx)("p",{className:"font-mono text-[#94A3B8] text-sm mt-1",children:e.id})]}),(0,zg.jsxs)("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[(0,zg.jsx)(h,{status:e.status}),(0,zg.jsx)("span",{className:"font-mono text-[#94A3B8] text-sm",children:e.date})]})]})},t)):(0,zg.jsx)("div",{className:"text-center text-[#94A3B8] p-8",children:(0,zg.jsx)("p",{children:"No bills found matching your criteria."})})})]})]}),(0,zg.jsx)(d,{bill:n,onClose:()=>i(null)})]})},R=()=>{var e,t,n,i;const[s,a]=(0,r.useState)(()=>"true"===localStorage.getItem("admin_logged_in")),[l,h]=(0,r.useState)(""),[d,f]=(0,r.useState)(""),[m,S]=(0,r.useState)({id:"",title:"",status:"",type:"",date:"",latestAction:"",sponsor:"",vote:{ayes:[],nays:[],abstain:[],absent:[]},voteText:{ayes:"",nays:"",abstain:"",absent:""}}),[I,N]=(0,r.useState)({id:"",name:"",party:"",region:"",image:"",leadershipRole:""}),[C,A]=(0,r.useState)({role:"",name:"",party:"",image:"",bio:""}),[R,D]=(0,r.useState)(!1),[F,O]=(0,r.useState)(!1),[P,j]=(0,r.useState)(!1),[L,M]=(0,r.useState)(""),[U,V]=(0,r.useState)(!1),[z,B]=(0,r.useState)(null),[q,H]=(0,r.useState)({date:"",business:[]}),K=e=>{if(e.preventDefault(),"admin"===l&&"password"===d){a(!0);try{localStorage.setItem("admin_logged_in","true")}catch(t){}}else M("Invalid credentials.")};(0,r.useEffect)(()=>{try{localStorage.setItem("admin_logged_in",s?"true":"false")}catch(e){}},[s]);const W=e=>{const{name:t,value:n}=e.target;S(e=>c(c({},e),{},{[t]:n}))},G=(e,t)=>{const n=e.target.value;S(e=>c(c({},e),{},{voteText:c(c({},e.voteText),{},{[t]:n})}))},Q=e=>{const{name:t,value:n}=e.target;N(e=>c(c({},e),{},{[t]:n}))},Y=(e,t,n)=>{H(r=>{const i=[...r.business];return i[e]=c(c({},i[e]),{},{[t]:n}),c(c({},r),{},{business:i})})},X=e=>{let{message:t,onClose:n}=e;return t?(0,zg.jsx)("div",{className:"fixed top-5 right-5 z-50 animate-fade-in-down bg-[#FFD700] text-[#0A1F44] font-semibold py-3 px-6 rounded-full shadow-lg transition-transform duration-300",children:(0,zg.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,zg.jsx)("span",{children:t}),(0,zg.jsx)("button",{onClick:n,className:"text-[#0A1F44] ml-2",children:(0,zg.jsx)(Fg,{size:18})})]})}):null};return s?(0,zg.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,zg.jsx)(X,{message:L,onClose:()=>M("")}),(0,zg.jsxs)("div",{className:"w-full max-w-7xl mx-auto space-y-8",children:[(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-8 rounded-[2rem] shadow-xl border border-[#2979FF]/30 backdrop-blur-md animate-fade-in-up",children:[(0,zg.jsx)("h2",{className:"text-3xl font-bold tracking-wide uppercase text-[#FFD700] text-center mb-6",children:R?"Edit Bill":"Add New Bill"}),(0,zg.jsxs)("form",{onSubmit:async e=>{var t,n,r,i,s,a,l,h;e.preventDefault();const d={ayes:null!==(t=m.voteText)&&void 0!==t&&t.ayes?m.voteText.ayes.split(",").map(e=>e.trim()).filter(Boolean):(null===(n=m.vote)||void 0===n?void 0:n.ayes)||[],nays:null!==(r=m.voteText)&&void 0!==r&&r.nays?m.voteText.nays.split(",").map(e=>e.trim()).filter(Boolean):(null===(i=m.vote)||void 0===i?void 0:i.nays)||[],abstain:null!==(s=m.voteText)&&void 0!==s&&s.abstain?m.voteText.abstain.split(",").map(e=>e.trim()).filter(Boolean):(null===(a=m.vote)||void 0===a?void 0:a.abstain)||[],absent:null!==(l=m.voteText)&&void 0!==l&&l.absent?m.voteText.absent.split(",").map(e=>e.trim()).filter(Boolean):(null===(h=m.vote)||void 0===h?void 0:h.absent)||[]},f=m.id&&!m.id.startsWith("new-")?m.id:"bill-".concat(Date.now()),g=c(c({},m),{},{id:f,vote:d});delete g.voteText,R?(v(e=>e.map(e=>e.id===m.id?g:e)),M("Bill updated successfully!")):(v(e=>[...e,g]),M("Bill added successfully!"));try{u&&o&&p?await gg(Rm(u,"artifacts",p,"public","data","bills",f),g):p||console.warn("appId not set, skipping bill persist")}catch(y){console.error("Failed to persist bill to Firestore",y),M("Saved locally but failed to persist to database.")}S({id:"",title:"",status:"",type:"",date:"",latestAction:"",sponsor:"",vote:{ayes:[],nays:[],abstain:[],absent:[]},voteText:{ayes:"",nays:"",abstain:"",absent:""}}),D(!1)},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zg.jsxs)("div",{className:"md:col-span-2",children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"title",children:"Title"}),(0,zg.jsx)("input",{id:"title",type:"text",name:"title",value:m.title,onChange:W,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]",required:!0})]}),(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"id",children:"Bill ID"}),(0,zg.jsx)("input",{id:"id",type:"text",name:"id",value:m.id,onChange:W,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]",required:!0})]}),(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"status",children:"Status"}),(0,zg.jsxs)("select",{id:"status",name:"status",value:m.status,onChange:W,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner",required:!0,children:[(0,zg.jsx)("option",{value:"",children:"Select Status"}),(0,zg.jsx)("option",{value:"submitted",children:"submitted"}),(0,zg.jsx)("option",{value:"scheduled",children:"scheduled"}),(0,zg.jsx)("option",{value:"in debate",children:"in debate"}),(0,zg.jsx)("option",{value:"amended",children:"amended"}),(0,zg.jsx)("option",{value:"passed",children:"passed"}),(0,zg.jsx)("option",{value:"failed",children:"failed"}),(0,zg.jsx)("option",{value:"postponed",children:"postponed"}),(0,zg.jsx)("option",{value:"sent to president",children:"sent to president"}),(0,zg.jsx)("option",{value:"withdrawn",children:"withdrawn"}),(0,zg.jsx)("option",{value:"first hearing",children:"first hearing"}),(0,zg.jsx)("option",{value:"second hearing",children:"second hearing"}),(0,zg.jsx)("option",{value:"third hearing",children:"third hearing"})]})]}),(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"type",children:"Bill Type"}),(0,zg.jsx)("input",{id:"type",type:"text",name:"type",value:m.type,onChange:W,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]",required:!0})]}),(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"date",children:"Date Introduced"}),(0,zg.jsx)("input",{id:"date",type:"text",name:"date",value:m.date,onChange:W,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]",required:!0})]}),(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"sponsor",children:"Sponsor"}),(0,zg.jsx)("input",{id:"sponsor",type:"text",name:"sponsor",value:m.sponsor,onChange:W,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]",required:!0})]}),(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"latestAction",children:"Latest Action"}),(0,zg.jsx)("input",{id:"latestAction",type:"text",name:"latestAction",value:m.latestAction,onChange:W,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]",required:!0})]}),(0,zg.jsxs)("div",{className:"md:col-span-2",children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"voteAyes",children:"Vote Breakdown (Ayes, Nays, Abstain, Absent)"}),(0,zg.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,zg.jsx)("input",{type:"text",placeholder:"Ayes (comma-separated)",value:(null===(e=m.voteText)||void 0===e?void 0:e.ayes)||"",onChange:e=>G(e,"ayes"),className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]"}),(0,zg.jsx)("input",{type:"text",placeholder:"Nays (comma-separated)",value:(null===(t=m.voteText)||void 0===t?void 0:t.nays)||"",onChange:e=>G(e,"nays"),className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]"}),(0,zg.jsx)("input",{type:"text",placeholder:"Abstain (comma-separated)",value:(null===(n=m.voteText)||void 0===n?void 0:n.abstain)||"",onChange:e=>G(e,"abstain"),className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]"}),(0,zg.jsx)("input",{type:"text",placeholder:"Absent (comma-separated)",value:(null===(i=m.voteText)||void 0===i?void 0:i.absent)||"",onChange:e=>G(e,"absent"),className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]"})]})]}),(0,zg.jsx)("div",{className:"md:col-span-2 text-center",children:(0,zg.jsx)("button",{type:"submit",className:"w-full py-3 bg-[#FFD700] text-[#0A1F44] font-bold rounded-full hover:bg-white transition-colors duration-300 shadow-lg animate-pulse-slow",children:R?"Update Bill":"Add Bill"})})]})]}),(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-8 rounded-[2rem] shadow-xl border border-[#2979FF]/30 backdrop-blur-md animate-fade-in-up",children:[(0,zg.jsx)("h2",{className:"text-3xl font-bold tracking-wide uppercase text-[#FFD700] text-center mb-6",children:"Live Bill tracking"}),(0,zg.jsx)("div",{className:"overflow-x-auto",children:(0,zg.jsxs)("table",{className:"min-w-full text-white table-auto",children:[(0,zg.jsx)("thead",{children:(0,zg.jsxs)("tr",{className:"bg-[#111827] text-left uppercase text-sm tracking-wide",children:[(0,zg.jsx)("th",{className:"px-4 py-3 font-semibold",children:"ID"}),(0,zg.jsx)("th",{className:"px-4 py-3 font-semibold",children:"Title"}),(0,zg.jsx)("th",{className:"px-4 py-3 font-semibold",children:"Status"}),(0,zg.jsx)("th",{className:"px-4 py-3 font-semibold text-center",children:"Actions"})]})}),(0,zg.jsx)("tbody",{children:g.map(e=>(0,zg.jsxs)("tr",{className:"border-b border-white/10 hover:bg-[#111827]/50 transition-colors duration-200",children:[(0,zg.jsx)("td",{className:"px-4 py-4 font-mono text-[#CBD5E1] text-xs align-top",children:e.id}),(0,zg.jsx)("td",{className:"px-4 py-4 text-white text-sm align-top",children:e.title}),(0,zg.jsx)("td",{className:"px-4 py-4 align-top",children:(0,zg.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold uppercase ".concat(T(e.status)),children:e.status})}),(0,zg.jsx)("td",{className:"px-4 py-4 align-top text-center",children:(0,zg.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,zg.jsx)("button",{onClick:()=>(e=>{var t,n,r,i;S(c(c({},e),{},{voteText:{ayes:((null===(t=e.vote)||void 0===t?void 0:t.ayes)||[]).join(", "),nays:((null===(n=e.vote)||void 0===n?void 0:n.nays)||[]).join(", "),abstain:((null===(r=e.vote)||void 0===r?void 0:r.abstain)||[]).join(", "),absent:((null===(i=e.vote)||void 0===i?void 0:i.absent)||[]).join(", ")}})),D(!0)})(e),className:"text-[#2979FF] hover:text-white transition-colors duration-200","aria-label":"Edit ".concat(e.title),children:(0,zg.jsx)(Pg,{size:18})}),(0,zg.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this bill?")){v(t=>t.filter(t=>t.id!==e)),M("Bill deleted locally.");try{u&&o&&p&&(await vg(Rm(u,"artifacts",p,"public","data","bills",e)),M("Bill deleted successfully!"))}catch(t){console.error("Failed to delete bill in Firestore",t),M("Local delete succeeded but failed to remove from database.")}}})(e.id),className:"text-[#FFD700] hover:text-white transition-colors duration-200","aria-label":"Delete ".concat(e.title),children:(0,zg.jsx)(jg,{size:18})})]})})]},e.id))})]})})]}),(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-8 rounded-[2rem] shadow-xl border border-[#2979FF]/30 backdrop-blur-md animate-fade-in-up",children:[(0,zg.jsx)("h2",{className:"text-3xl font-bold tracking-wide uppercase text-[#FFD700] text-center mb-6",children:"Manage Representatives"}),(0,zg.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=I.id&&!I.id.startsWith("new-")?I.id:"rep-".concat(Date.now()),n=c(c({},I),{},{id:t});if(F?(b(e=>e.map(e=>e.id===I.id?n:e)),M("Representative updated successfully!")):(b(e=>[...e,n]),M("Representative added successfully!")),I.leadershipRole){const e=I.leadershipRole,n={role:"speaker"===e?"Duma Speaker":"majorityLeader"===e?"Majority Leader":"Minority Leader",name:I.name,party:I.party,image:I.image,bio:I.bio||"",repId:t};x(t=>c(c({},t),{},{[e]:n}));try{u&&o&&p&&await gg(Rm(u,"artifacts",p,"public","data","leadership",e),n)}catch(r){console.error("Failed to persist leadership to Firestore",r),M(e=>e?e+" Leadership save failed.":"Leadership save failed.")}}else try{if(u&&o&&p)for(const[e,n]of Object.entries(w||{}))(null===n||void 0===n?void 0:n.repId)===t&&await vg(Rm(u,"artifacts",p,"public","data","leadership",e))}catch(r){console.warn("Failed to clean old leadership entries",r)}try{u&&o&&p?await gg(Rm(u,"artifacts",p,"public","data","representatives",t),n):p||console.warn("appId not set, skipping rep persist")}catch(r){console.error("Failed to persist representative to Firestore",r),M("Saved locally but failed to persist to database.")}N({id:"",name:"",party:"",region:"",image:"",leadershipRole:""}),O(!1)},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"rep-name",children:"Name"}),(0,zg.jsx)("input",{id:"rep-name",type:"text",name:"name",value:I.name,onChange:Q,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] shadow-inner",required:!0})]}),(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"rep-party",children:"Party"}),(0,zg.jsxs)("select",{id:"rep-party",name:"party",value:I.party,onChange:Q,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] shadow-inner",required:!0,children:[(0,zg.jsx)("option",{value:"",children:"Select Party"}),(0,zg.jsx)("option",{value:"United Russia",children:"United Russia"}),(0,zg.jsx)("option",{value:"Russia of the Future",children:"Russia of the Future"}),(0,zg.jsx)("option",{value:"Independent",children:"Independent"})]})]}),(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"rep-image",children:"Image URL"}),(0,zg.jsx)("input",{id:"rep-image",type:"text",name:"image",value:I.image,onChange:Q,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] shadow-inner",placeholder:"https://..."})]}),(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"rep-lead",children:"Leadership Role"}),(0,zg.jsxs)("select",{id:"rep-lead",name:"leadershipRole",value:I.leadershipRole,onChange:Q,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] shadow-inner",children:[(0,zg.jsx)("option",{value:"",children:"None"}),(0,zg.jsx)("option",{value:"speaker",children:"Duma Speaker"}),(0,zg.jsx)("option",{value:"majorityLeader",children:"Majority Leader"}),(0,zg.jsx)("option",{value:"minorityLeader",children:"Minority Leader"})]})]}),(0,zg.jsxs)("div",{className:"md:col-span-2",children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"rep-region",children:"Region"}),(0,zg.jsxs)("select",{id:"rep-region",name:"region",value:I.region,onChange:Q,className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] shadow-inner",required:!0,children:[(0,zg.jsx)("option",{value:"",children:"Select Region"}),(0,zg.jsx)("option",{value:"Volga Valley",children:"Volga Valley"}),(0,zg.jsx)("option",{value:"Northern Frontier",children:"Northern Frontier"}),(0,zg.jsx)("option",{value:"Caucasia",children:"Caucasia"}),(0,zg.jsx)("option",{value:"Central Steppes",children:"Central Steppes"}),(0,zg.jsx)("option",{value:"Siberian Frontier",children:"Siberian Frontier"}),(0,zg.jsx)("option",{value:"Outer Mongolia",children:"Outer Mongolia"})]})]}),(0,zg.jsx)("div",{className:"md:col-span-2 text-center",children:(0,zg.jsx)("button",{type:"submit",className:"w-full py-3 bg-[#FFD700] text-[#0A1F44] font-bold rounded-full hover:bg-white transition-colors duration-300 shadow-lg",children:F?"Update Representative":"Add Representative"})})]}),(0,zg.jsxs)("div",{className:"mt-8 bg-[#0A1F44] p-6 rounded-xl border border-[#2979FF]/20",children:[(0,zg.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,zg.jsx)("h3",{className:"text-xl font-bold text-[#FFD700]",children:"Manage Duma Agenda"}),(0,zg.jsx)("div",{className:"flex space-x-2",children:(0,zg.jsx)("button",{onClick:()=>{B(null),H({date:"",business:[]}),V(!0)},className:"px-3 py-2 bg-[#2979FF] rounded-full text-white",children:"New Agenda"})})]}),(0,zg.jsx)("div",{className:"space-y-3",children:E.length?E.map((e,t)=>{var n;return(0,zg.jsxs)("div",{className:"flex items-center justify-between bg-[#0A1F44] p-3 rounded",children:[(0,zg.jsxs)("div",{children:[(0,zg.jsx)("div",{className:"font-mono text-sm text-[#CBD5E1]",children:e.date}),(0,zg.jsxs)("div",{className:"text-sm text-white",children:[(null===(n=e.business)||void 0===n?void 0:n.length)||0," business items"]})]}),(0,zg.jsxs)("div",{className:"flex space-x-2",children:[(0,zg.jsx)("button",{onClick:()=>{return B(e=t),H(E[e]),void V(!0);var e},className:"px-2 py-1 bg-[#FFD700] rounded",children:"Edit"}),(0,zg.jsx)("button",{onClick:()=>{return e=t,void(window.confirm("Delete this agenda?")&&(k(t=>t.filter((t,n)=>n!==e)),M("Agenda removed.")));var e},className:"px-2 py-1 bg-red-500 rounded text-white",children:"Delete"})]})]},t)}):(0,zg.jsx)("div",{className:"text-sm text-[#94A3B8]",children:"No agendas defined"})}),U&&(0,zg.jsxs)("form",{onSubmit:e=>{e.preventDefault(),null!==z?(k(e=>e.map((e,t)=>t===z?q:e)),M("Agenda updated.")):(k(e=>[...e,q]),M("Agenda created.")),V(!1),B(null)},className:"mt-4 bg-[#111827] p-4 rounded",children:[(0,zg.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"text-sm text-[#94A3B8]",children:"Date"}),(0,zg.jsx)("input",{className:"w-full px-3 py-2 bg-[#0A1F44] rounded",value:q.date,onChange:e=>H(t=>c(c({},t),{},{date:e.target.value})),placeholder:"YYYY-MM-DD",required:!0})]}),(0,zg.jsx)("div",{className:"flex items-end",children:(0,zg.jsx)("button",{type:"button",onClick:()=>H(e=>c(c({},e),{},{business:[...e.business,{time:"",title:"",text:"",items:[]}]})),className:"px-3 py-2 bg-[#2979FF] rounded text-white",children:"Add Business Item"})})]}),(0,zg.jsx)("div",{className:"mt-3 space-y-3",children:q.business.map((e,t)=>(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-3 rounded grid grid-cols-1 md:grid-cols-4 gap-2 items-center",children:[(0,zg.jsx)("input",{placeholder:"Time",value:e.time,onChange:e=>Y(t,"time",e.target.value),className:"px-2 py-1 bg-[#111827] rounded col-span-1"}),(0,zg.jsx)("input",{placeholder:"Title",value:e.title,onChange:e=>Y(t,"title",e.target.value),className:"px-2 py-1 bg-[#111827] rounded col-span-2"}),(0,zg.jsx)("div",{className:"flex items-center space-x-2",children:(0,zg.jsx)("button",{type:"button",onClick:()=>{return e=t,H(t=>c(c({},t),{},{business:t.business.filter((t,n)=>n!==e)}));var e},className:"px-2 py-1 bg-red-500 rounded text-white",children:"Remove"})}),(0,zg.jsx)("textarea",{placeholder:"Details (optional)",value:e.text,onChange:e=>Y(t,"text",e.target.value),className:"md:col-span-4 mt-2 px-2 py-1 bg-[#111827] rounded w-full"})]},t))}),(0,zg.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,zg.jsx)("button",{className:"px-4 py-2 bg-[#FFD700] rounded",children:"Save Agenda"}),(0,zg.jsx)("button",{type:"button",onClick:()=>{V(!1),B(null)},className:"px-4 py-2 bg-gray-600 rounded",children:"Cancel"})]})]})]}),(0,zg.jsx)("div",{className:"mt-8 overflow-x-auto",children:(0,zg.jsxs)("table",{className:"min-w-full text-white table-auto",children:[(0,zg.jsx)("thead",{children:(0,zg.jsxs)("tr",{className:"bg-[#111827] text-left uppercase text-sm tracking-wide",children:[(0,zg.jsx)("th",{className:"px-4 py-3 font-semibold",children:"Name"}),(0,zg.jsx)("th",{className:"px-4 py-3 font-semibold",children:"Party"}),(0,zg.jsx)("th",{className:"px-4 py-3 font-semibold",children:"Region"}),(0,zg.jsx)("th",{className:"px-4 py-3 font-semibold text-center",children:"Actions"})]})}),(0,zg.jsx)("tbody",{children:(y&&y.length?y:_).map(e=>(0,zg.jsxs)("tr",{className:"border-b border-white/10 hover:bg-[#111827]/50 transition-colors duration-200",children:[(0,zg.jsx)("td",{className:"px-4 py-4 text-sm align-top",children:e.name}),(0,zg.jsx)("td",{className:"px-4 py-4 text-sm align-top",children:e.party}),(0,zg.jsx)("td",{className:"px-4 py-4 text-sm align-top",children:e.region}),(0,zg.jsx)("td",{className:"px-4 py-4 align-top text-center",children:(0,zg.jsx)("button",{onClick:()=>(e=>{const t=Object.keys(w||{}).find(t=>{var n;return(null===(n=w[t])||void 0===n?void 0:n.repId)===e.id})||Object.keys(w||{}).find(t=>{var n;return(null===(n=w[t])||void 0===n?void 0:n.name)===e.name})||"";N(c(c({},e),{},{leadershipRole:t})),O(!0)})(e),className:"text-[#2979FF] hover:text-white transition-colors duration-200",children:(0,zg.jsx)(Pg,{size:18})})})]},e.id))})]})})]})]})]}):(0,zg.jsxs)("div",{className:"flex items-center justify-center min-h-[calc(100vh-8rem)] bg-[#111827]",children:[(0,zg.jsx)(X,{message:L,onClose:()=>M("")}),(0,zg.jsxs)("div",{className:"bg-[#0A1F44] p-8 rounded-2xl shadow-xl w-full max-w-md border border-[#2979FF] animate-fade-in",children:[(0,zg.jsx)("h2",{className:"text-3xl font-bold tracking-wide uppercase text-center text-white mb-6",children:"Admin Login"}),(0,zg.jsxs)("form",{onSubmit:K,className:"space-y-6",children:[(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"username",children:"Username"}),(0,zg.jsx)("input",{id:"username",type:"text",value:l,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]",placeholder:"admin"})]}),(0,zg.jsxs)("div",{children:[(0,zg.jsx)("label",{className:"block text-[#94A3B8] text-sm mb-2",htmlFor:"password",children:"Password"}),(0,zg.jsx)("input",{id:"password",type:"password",value:d,onChange:e=>f(e.target.value),className:"w-full px-4 py-3 bg-[#111827] text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2979FF] transition-all duration-300 shadow-inner placeholder-[#64748B]",placeholder:"password"})]}),(0,zg.jsx)("button",{type:"submit",className:"w-full py-3 bg-[#FFD700] text-[#0A1F44] font-bold rounded-full hover:bg-white transition-colors duration-300 shadow-lg animate-pulse-slow",children:"Login"})]})]})]})},D=e=>{let{currentPage:t,setCurrentPage:n,auth:i,userId:s}=e;const[a,o]=(0,r.useState)(!1),l=[{name:"Home",page:"home",icon:Lg,mobile:!0},{name:"Leadership",page:"leadership",icon:Ig,mobile:!0},{name:"Representatives",page:"representatives",icon:Mg,mobile:!0},{name:"Activity",page:"legislative-activity",icon:Ug,mobile:!0},{name:"Admin",page:"admin",icon:Vg,mobile:!0}];return(0,zg.jsxs)(zg.Fragment,{children:[(0,zg.jsx)("nav",{className:"sticky top-0 z-40 bg-[#0A1F44]/80 backdrop-blur-md shadow-lg transition-all duration-300",children:(0,zg.jsx)("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6",children:(0,zg.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,zg.jsx)("div",{className:"flex items-center",children:(0,zg.jsx)("span",{className:"text-white text-2xl font-bold tracking-wide uppercase",children:"STATE DUMA"})}),(0,zg.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:l.map(e=>(0,zg.jsxs)("button",{onClick:()=>n(e.page),className:"relative text-white font-semibold tracking-wide transition-all duration-300 hover:text-[#2979FF] group",children:[(0,zg.jsx)("span",{className:"relative z-10",children:e.name}),(0,zg.jsx)("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-[#2979FF] transition-transform duration-300 transform scale-x-0 group-hover:scale-x-100 ".concat(t===e.page?"scale-x-100":"")})]},e.page))}),(0,zg.jsx)("div",{className:"md:hidden",children:(0,zg.jsx)("button",{onClick:()=>o(!a),className:"text-white hover:text-[#2979FF] focus:outline-none",children:(0,zg.jsx)("svg",{className:"h-8 w-8",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,zg.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a?"M6 18L18  6M6 6l12 12":"M4 6h16M4 12h16m-7 6h7"})})})})]})})}),(0,zg.jsxs)("div",{className:"fixed inset-0 z-30 bg-[#0A1F44] transition-transform duration-300 ease-in-out transform ".concat(a?"translate-x-0":"translate-x-full"," md:hidden"),children:[(0,zg.jsx)("div",{className:"flex justify-end p-4",children:(0,zg.jsx)("button",{onClick:()=>o(!1),className:"text-white",children:(0,zg.jsx)(Fg,{size:32})})}),(0,zg.jsx)("div",{className:"flex flex-col items-center justify-center space-y-8 text-2xl",children:l.map(e=>(0,zg.jsxs)("button",{onClick:()=>{n(e.page),o(!1)},className:"flex items-center space-x-4 text-white hover:text-[#2979FF] transition-colors duration-200",children:[(0,zg.jsx)(e.icon,{size:32}),(0,zg.jsx)("span",{className:"font-bold uppercase tracking-wide",children:e.name})]},e.page))})]})]})},O=()=>(0,zg.jsx)("footer",{className:"bg-[#0A1F44] text-white py-6 mt-auto",children:(0,zg.jsx)("div",{className:"container mx-auto px-4 text-center",children:(0,zg.jsx)("p",{className:"text-sm text-[#94A3B8]",children:"State duma of the Russian federation. All rights reserved to RFGR."})})});return(0,zg.jsxs)("div",{className:"bg-[#111827] text-white min-h-screen font-[Inter] flex flex-col",children:[(0,zg.jsx)("style",{children:'\n        body {\n          font-family: \'Inter\', sans-serif;\n        }\n        .animate-fade-in {\n          animation: fadeIn 1s ease-out forwards;\n        }\n        .animate-fade-in-down {\n          animation: fadeInDown 0.8s ease-out forwards;\n        }\n        .animate-fade-in-up {\n          animation: fadeInUp 0.8s ease-out forwards;\n        }\n        .animate-pulse-slow {\n          animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n        }\n        .animate-fade-in-modal {\n          animation: fadeInModal 0.3s ease-out forwards;\n        }\n        .animate-scale-in {\n          animation: scaleIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;\n        }\n\n        input[type="range"] {\n          -webkit-appearance: none;\n          background: transparent;\n          cursor: pointer;\n          width: 100%;\n        }\n\n        input[type="range"]::-webkit-slider-runnable-track {\n          width: 100%;\n          height: 8px;\n          background: #0A1F44;\n          border-radius: 4px;\n        }\n\n        input[type="range"]::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          height: 20px;\n          width: 20px;\n          border-radius: 50%;\n          background: #FFD700;\n          cursor: pointer;\n          margin-top: -6px;\n          box-shadow: 0 0 5px rgba(255, 215, 0, 0.75);\n          border: 2px solid #0A1F44;\n        }\n        \n        input[type="range"]:focus::-webkit-slider-thumb {\n          box-shadow: 0 0 0 4px rgba(41, 121, 255, 0.5);\n        }\n\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        @keyframes fadeInDown {\n          from { opacity: 0; transform: translateY(-20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n\n        @keyframes fadeInUp {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n\n        @keyframes pulse {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.5;\n          }\n        }\n\n        @keyframes fadeInModal {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        @keyframes scaleIn {\n          from { transform: scale(0.9); opacity: 0; }\n          to { transform: scale(1); opacity: 1; }\n        }\n      '}),(0,zg.jsx)(D,{currentPage:e,setCurrentPage:t}),(0,zg.jsx)("main",{className:"container mx-auto py-8 px-4 flex-grow",children:(0,zg.jsx)("div",{className:"max-w-7xl mx-auto",children:(()=>{switch(e){case"home":default:return(0,zg.jsx)(I,{});case"leadership":return(0,zg.jsx)(C,{});case"representatives":return(0,zg.jsx)(N,{});case"legislative-activity":return(0,zg.jsx)(A,{});case"admin":return(0,zg.jsx)(R,{})}})()})}),(0,zg.jsx)(O,{})]})};!function(){try{document.documentElement.style.visibility="hidden"}catch(e){}if(!document.getElementById("gf-inter")){const e=document.createElement("link");e.id="gf-inter",e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap",document.head.appendChild(e)}if(document.getElementById("tailwind-cdn"))try{document.documentElement.style.visibility=""}catch(e){}else{const t=document.createElement("script");t.id="tailwind-cdn",t.src="https://cdn.tailwindcss.com",t.async=!0;const n=setTimeout(()=>{try{document.documentElement.style.visibility=""}catch(e){}},3e3);t.onload=()=>{try{window.tailwind&&(window.tailwind.config=window.tailwind.config||{},window.tailwind.config.theme=window.tailwind.config.theme||{},window.tailwind.config.theme.extend=window.tailwind.config.theme.extend||{},window.tailwind.config.theme.extend.fontFamily={sans:["Inter","ui-sans-serif","system-ui","sans-serif"]})}catch(e){}clearTimeout(n);try{document.documentElement.style.visibility=""}catch(e){}},document.head.appendChild(t)}}(),i.render((0,zg.jsx)(Bg,{}),document.getElementById("root"))})();
//# sourceMappingURL=main.2af155b3.js.map